{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/lib/constants.ts"],"sourcesContent":["/**\r\n * Game constants and configuration\r\n */\r\n\r\nexport const GAME_CONFIG = {\r\n  THREE: {\r\n    FOV: 75,\r\n    NEAR: 0.1,\r\n    FAR: 1000,\r\n    BACKGROUND_COLOR: 0x0f172a,\r\n    FOG_NEAR: 80,\r\n    FOG_FAR: 200,\r\n  },\r\n  ANIMATION: {\r\n    ROTATION_SPEED: 0.005,\r\n    FLOAT_AMPLITUDE: 0.8,\r\n    PULSE_SPEED: 2,\r\n    MOUSE_INFLUENCE: 0.01,\r\n  },\r\n  COLORS: {\r\n    LIGHT_CYAN: 0x00f3ff,\r\n    LIGHT_PINK: 0xff006e,\r\n    LIGHT_GREEN: 0x00ff88,\r\n    AMBIENT: 0xffffff,\r\n  },\r\n} as const\r\n\r\nexport const UI_TEXT = {\r\n  COMMON: {\r\n    BACK: \"Quay L·∫°i\",\r\n    RESTART: \"L√†m L·∫°i\",\r\n    SCORE: \"ƒêi·ªÉm\",\r\n    NEXT_QUESTION: \"C√¢u Ti·∫øp Theo ‚Üí\",\r\n    PLAY_AGAIN: \"Ch∆°i L·∫°i\",\r\n  },\r\n  NEXT_NUMBER: {\r\n    TITLE: \"T√¨m s·ªë ti·∫øp theo trong d√£y:\",\r\n    SELECT_ANSWER: \"Ch·ªçn ƒë√°p √°n:\",\r\n    CORRECT: \"Ch√≠nh x√°c!\",\r\n    CORRECT_DESC: \"B·∫°n t√¨m ƒë√∫ng quy lu·∫≠t r·ªìi!\",\r\n    INCORRECT: \"Ch∆∞a ƒë√∫ng\",\r\n    CORRECT_ANSWER: \"ƒê√°p √°n ƒë√∫ng l√†:\",\r\n    COMPLETE: \"B·∫°n ho√†n th√†nh tr√≤ ch∆°i v·ªõi\",\r\n    POINTS: \"ƒëi·ªÉm!\",\r\n  },\r\n  MISSING_NUMBER: {\r\n    TITLE: \"T√¨m s·ªë c√≤n thi·∫øu trong d√£y:\",\r\n    SELECT_ANSWER: \"Ch·ªçn ƒë√°p √°n:\",\r\n    CORRECT: \"Si√™u ƒê√∫ng!\",\r\n    CORRECT_DESC: \"B·∫°n t√¨m th·∫•y s·ªë c√≤n thi·∫øu r·ªìi!\",\r\n    INCORRECT: \"Ch∆∞a ch√≠nh x√°c\",\r\n    CORRECT_ANSWER: \"S·ªë ƒë√∫ng l√†:\",\r\n    COMPLETE: \"B·∫°n ho√†n th√†nh tr√≤ ch∆°i v·ªõi\",\r\n    POINTS: \"ƒëi·ªÉm!\",\r\n  },\r\n  SORT_SEQUENCE: {\r\n    TITLE: \"S·∫Øp x·∫øp c√°c s·ªë theo quy lu·∫≠t tƒÉng d·∫ßn\",\r\n    INSTRUCTIONS: \"Nh·∫•p c√°c s·ªë ƒë·ªÉ s·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn\",\r\n    SELECT_NUMBERS: \"C√°c s·ªë ƒë·ªÉ ch·ªçn:\",\r\n    SORTED_SEQUENCE: \"D√£y s·ªë ƒë√£ s·∫Øp x·∫øp:\",\r\n    SELECT_NUMBERS_PLACEHOLDER: \"Ch·ªçn c√°c s·ªë ·ªü tr√™n...\",\r\n    CORRECT: \"Tuy·ªát V·ªùi!\",\r\n    CORRECT_DESC: \"B·∫°n ƒë√£ s·∫Øp x·∫øp ƒë√∫ng th·ª© t·ª±!\",\r\n    INCORRECT: \"Ch∆∞a ƒë√∫ng\",\r\n    CORRECT_ANSWER: \"Th·ª© t·ª± ƒë√∫ng l√†:\",\r\n    COMPLETE: \"B·∫°n ho√†n th√†nh tr√≤ ch∆°i v·ªõi\",\r\n    POINTS: \"ƒëi·ªÉm!\",\r\n  },\r\n} as const\r\n\r\nexport const GAME_TYPES = {\r\n  NEXT: \"next\",\r\n  MISSING: \"missing\",\r\n  SORT: \"sort\",\r\n  MENU: \"menu\",\r\n} as const\r\n\r\nexport type GameType = (typeof GAME_TYPES)[keyof typeof GAME_TYPES]\r\n\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;AAEM,MAAM,cAAc;IACzB,OAAO;QACL,KAAK;QACL,MAAM;QACN,KAAK;QACL,kBAAkB;QAClB,UAAU;QACV,SAAS;IACX;IACA,WAAW;QACT,gBAAgB;QAChB,iBAAiB;QACjB,aAAa;QACb,iBAAiB;IACnB;IACA,QAAQ;QACN,YAAY;QACZ,YAAY;QACZ,aAAa;QACb,SAAS;IACX;AACF;AAEO,MAAM,UAAU;IACrB,QAAQ;QACN,MAAM;QACN,SAAS;QACT,OAAO;QACP,eAAe;QACf,YAAY;IACd;IACA,aAAa;QACX,OAAO;QACP,eAAe;QACf,SAAS;QACT,cAAc;QACd,WAAW;QACX,gBAAgB;QAChB,UAAU;QACV,QAAQ;IACV;IACA,gBAAgB;QACd,OAAO;QACP,eAAe;QACf,SAAS;QACT,cAAc;QACd,WAAW;QACX,gBAAgB;QAChB,UAAU;QACV,QAAQ;IACV;IACA,eAAe;QACb,OAAO;QACP,cAAc;QACd,gBAAgB;QAChB,iBAAiB;QACjB,4BAA4B;QAC5B,SAAS;QACT,cAAc;QACd,WAAW;QACX,gBAAgB;QAChB,UAAU;QACV,QAAQ;IACV;AACF;AAEO,MAAM,aAAa;IACxB,MAAM;IACN,SAAS;IACT,MAAM;IACN,MAAM;AACR"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/components/game-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport * as THREE from \"three\"\nimport { GAME_TYPES } from \"@/lib/constants\"\nimport type { GameType } from \"@/lib/constants\"\nimport Link from \"next/link\"\nimport { BookOpen } from \"lucide-react\"\n\ninterface GameInfo {\n  title: string\n  color: number\n  posX: number\n  hue: number\n  emoji: string\n  description: string\n  difficulty: string\n  gameType: Exclude<GameType, \"menu\">\n}\n\nconst GAMES: GameInfo[] = [\n  {\n    title: \"T√¨m S·ªë Ti·∫øp Theo\",\n    color: 0x3b82f6,\n    posX: -25,\n    hue: 0.6,\n    emoji: \"üî¢\",\n    description: \"T√¨m quy lu·∫≠t v√† ch·ªçn s·ªë ti·∫øp theo trong d√£y s·ªë\",\n    difficulty: \"‚≠ê D·ªÖ - Trung B√¨nh\",\n    gameType: GAME_TYPES.NEXT,\n  },\n  {\n    title: \"S·ªë C√≤n Thi·∫øu\",\n    color: 0xf97316,\n    posX: 0,\n    hue: 0.1,\n    emoji: \"‚ùì\",\n    description: \"T√¨m s·ªë b·ªã thi·∫øu trong d√£y s·ªë ƒë·∫ßu ti√™n\",\n    difficulty: \"‚≠ê‚≠ê Trung B√¨nh\",\n    gameType: GAME_TYPES.MISSING,\n  },\n  {\n    title: \"S·∫Øp X·∫øp D√£y S·ªë\",\n    color: 0xa855f7,\n    posX: 25,\n    hue: 0.8,\n    emoji: \"üìä\",\n    description: \"S·∫Øp x·∫øp c√°c s·ªë theo quy lu·∫≠t tƒÉng d·∫ßn\",\n    difficulty: \"‚≠ê‚≠ê‚≠ê Kh√≥\",\n    gameType: GAME_TYPES.SORT,\n  },\n]\n\nexport default function GameMenu() {\n  const router = useRouter()\n  useEffect(() => {\n    const container = document.getElementById(\"menu-canvas-container\")\n    if (!container) return\n\n    const scene = new THREE.Scene()\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000)\n    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true })\n\n    renderer.setSize(window.innerWidth, window.innerHeight)\n    renderer.setClearColor(0x000000, 0)\n    renderer.outputColorSpace = THREE.SRGBColorSpace\n    renderer.shadowMap.enabled = true\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap\n\n    container.appendChild(renderer.domElement)\n    camera.position.z = 50\n\n    const spheres: THREE.Group[] = []\n    const particles: THREE.Mesh[] = []\n\n    GAMES.forEach((game, idx) => {\n      const group = new THREE.Group()\n\n      const geometry = new THREE.IcosahedronGeometry(2.5, 4)\n      const material = new THREE.MeshStandardMaterial({\n        color: game.color,\n        metalness: 0.9,\n        roughness: 0.05,\n        emissive: game.color,\n        emissiveIntensity: 1.0,\n        envMapIntensity: 1.5,\n      })\n      const sphere = new THREE.Mesh(geometry, material)\n      sphere.castShadow = true\n      group.add(sphere)\n\n      for (let i = 0; i < 4; i++) {\n        const glowGeometry = new THREE.IcosahedronGeometry(2.5 + i * 0.25, 3)\n        const glowMaterial = new THREE.MeshStandardMaterial({\n          color: game.color,\n          emissive: game.color,\n          emissiveIntensity: 0.6,\n          metalness: 0.5,\n          roughness: 0.3,\n          transparent: true,\n          opacity: (0.4 - i * 0.08),\n          side: THREE.BackSide,\n        })\n        const glow = new THREE.Mesh(glowGeometry, glowMaterial)\n        group.add(glow)\n      }\n\n      group.position.x = game.posX\n      group.position.y = 0\n      group.userData = { originalY: 0, speed: 0.001, index: idx }\n      scene.add(group)\n      spheres.push(group)\n\n      const particleCount = 12\n      for (let i = 0; i < particleCount; i++) {\n        const pGeometry = new THREE.SphereGeometry(0.28, 24, 24)\n        const pMaterial = new THREE.MeshStandardMaterial({\n          color: game.color,\n          metalness: 0.9,\n          roughness: 0.05,\n          emissive: game.color,\n          emissiveIntensity: 1.0,\n          envMapIntensity: 1.5,\n          transparent: true,\n          opacity: 0.95,\n        })\n        const particle = new THREE.Mesh(pGeometry, pMaterial)\n        particle.castShadow = true\n        const angle = (i / particleCount) * Math.PI * 2\n        particle.userData = {\n          parentIndex: idx,\n          angle: angle,\n          distance: 5.5,\n          speed: 0.025,\n          index: i,\n        }\n        scene.add(particle)\n        particles.push(particle)\n      }\n    })\n\n    const light1 = new THREE.PointLight(0x00d9ff, 2, 100)\n    light1.position.set(40, 40, 40)\n    scene.add(light1)\n\n    const light2 = new THREE.PointLight(0xff006e, 2, 100)\n    light2.position.set(-40, -40, 40)\n    scene.add(light2)\n\n    const light3 = new THREE.PointLight(0xfdb813, 1.5, 80)\n    light3.position.set(0, 50, 0)\n    scene.add(light3)\n\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6)\n    scene.add(ambientLight)\n\n    const animate = () => {\n      requestAnimationFrame(animate)\n\n      const time = Date.now() * 0.001\n\n      spheres.forEach((sphere) => {\n        sphere.rotation.x += 0.003\n        sphere.rotation.y += 0.005\n        sphere.rotation.z += 0.002\n\n        sphere.position.y = sphere.userData.originalY + Math.sin(time * 0.8 + sphere.userData.index) * 1.8\n\n        const scale = 1 + Math.sin(time * 1.5 + sphere.userData.index * 1.5) * 0.2\n        sphere.scale.set(scale, scale, scale)\n\n        sphere.children.forEach((child, i) => {\n          if (i > 0) {\n            child.rotation.x += 0.001 * (i + 1)\n            child.rotation.y += 0.002 * (i + 1)\n          }\n        })\n      })\n\n      particles.forEach((particle) => {\n        if (particle.userData.parentIndex !== undefined) {\n          const parentSphere = spheres[particle.userData.parentIndex]\n          particle.userData.angle += particle.userData.speed\n\n          particle.position.x = parentSphere.position.x + Math.cos(particle.userData.angle) * particle.userData.distance\n          particle.position.y = parentSphere.position.y + Math.sin(particle.userData.angle * 0.6) * particle.userData.distance\n          particle.position.z = Math.sin(particle.userData.angle * 1.3) * particle.userData.distance * 0.6\n\n          particle.rotation.x += 0.04\n          particle.rotation.y += 0.04\n          particle.rotation.z += 0.02\n\n          const pulse = Math.sin(time * 2.5 + particle.userData.parentIndex + particle.userData.index * 0.1) * 0.5 + 0.5\n          if (particle.material instanceof THREE.MeshStandardMaterial) {\n            particle.material.emissiveIntensity = pulse * 1.0 + 0.3\n          }\n\n          const particleScale = Math.sin(time * 3 + particle.userData.index) * 0.3 + 0.7\n          particle.scale.set(particleScale, particleScale, particleScale)\n        }\n      })\n\n      renderer.render(scene, camera)\n    }\n\n    animate()\n\n    const handleResize = () => {\n      camera.aspect = window.innerWidth / window.innerHeight\n      camera.updateProjectionMatrix()\n      renderer.setSize(window.innerWidth, window.innerHeight)\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n\n      spheres.forEach((sphere) => {\n        sphere.traverse((child: THREE.Object3D) => {\n          if (child instanceof THREE.Mesh) {\n            child.geometry.dispose()\n            if (Array.isArray(child.material)) {\n              child.material.forEach((material: THREE.Material) => material.dispose())\n            } else {\n              child.material.dispose()\n            }\n          }\n        })\n        scene.remove(sphere)\n      })\n\n      particles.forEach((particle) => {\n        particle.geometry.dispose()\n        if (Array.isArray(particle.material)) {\n          particle.material.forEach((material: THREE.Material) => material.dispose())\n        } else {\n          particle.material.dispose()\n        }\n        scene.remove(particle)\n      })\n\n      renderer.dispose()\n      if (container.contains(renderer.domElement)) {\n        container.removeChild(renderer.domElement)\n      }\n    }\n  }, [])\n\n  return (\n    <div className=\"relative w-full h-full flex flex-col items-center overflow-y-auto overflow-x-hidden\">\n      <div id=\"menu-canvas-container\" className=\"fixed inset-0 -z-10\" />\n      <div className=\"fixed inset-0 bg-gradient-to-b from-slate-950/60 via-blue-950/50 to-slate-950/60 -z-10\" />\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 sm:pt-16 lg:pt-20 pb-8 sm:pb-12 lg:pb-16\">\n        <header className=\"text-center mb-8 sm:mb-12 lg:mb-16 slide-down relative z-20\">\n          <div className=\"relative inline-block mb-6 sm:mb-8\">\n            <h1 className=\"text-4xl sm:text-6xl md:text-7xl lg:text-8xl font-black mb-2 sm:mb-4 leading-[1.1] gradient-text drop-shadow-2xl\">\n              H·ªá M·∫∑t Tr·ªùi\n            </h1>\n            <div className=\"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 text-2xl sm:text-3xl md:text-4xl animate-bounce-gentle\">‚ú®</div>\n            <div className=\"absolute -bottom-1 -left-1 sm:-bottom-2 sm:-left-2 text-xl sm:text-2xl md:text-3xl animate-bounce-gentle\" style={{ animationDelay: \"0.5s\" }}>‚≠ê</div>\n          </div>\n          <h2 className=\"text-xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4 text-blue-200 drop-shadow-xl\">\n            Tr√≤ Ch∆°i To√°n H·ªçc\n          </h2>\n          <p className=\"text-sm sm:text-base md:text-lg lg:text-xl text-slate-100 font-medium max-w-2xl mx-auto leading-relaxed px-4\">\n            Kh√°m Ph√° Quy Lu·∫≠t D√£y S·ªë C√πng C√°c H√†nh Tinh\n          </p>\n        </header>\n\n        <section className=\"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 lg:gap-10 mb-8 sm:mb-12\">\n          {GAMES.map((game, idx) => {\n            const gameRoutes: Record<Exclude<GameType, \"menu\">, string> = {\n              [GAME_TYPES.NEXT]: \"/next-number\",\n              [GAME_TYPES.MISSING]: \"/missing-number\",\n              [GAME_TYPES.SORT]: \"/sort-sequence\",\n            }\n            const guideRoutes: Record<Exclude<GameType, \"menu\">, string> = {\n              [GAME_TYPES.NEXT]: \"/next-number/guide\",\n              [GAME_TYPES.MISSING]: \"/missing-number/guide\",\n              [GAME_TYPES.SORT]: \"/sort-sequence/guide\",\n            }\n            \n            return (\n            <div\n              key={game.gameType}\n              className=\"group relative h-[380px] sm:h-[420px] md:h-[400px] lg:h-[420px] transition-all duration-500 hover:scale-[1.05] card-hover\"\n              style={{ animationDelay: `${idx * 0.1}s` }}\n            >\n              <div\n                className=\"absolute inset-0 rounded-2xl sm:rounded-3xl shadow-2xl group-hover:shadow-[0_20px_60px_rgba(0,0,0,0.6)] transition-all duration-500 group-hover:-translate-y-2\"\n                style={{\n                  background: `linear-gradient(135deg, ${\n                    game.gameType === GAME_TYPES.NEXT\n                      ? \"rgb(37, 99, 235) 0%, rgb(59, 130, 246) 50%, rgb(34, 211, 238) 100%\"\n                      : game.gameType === GAME_TYPES.MISSING\n                        ? \"rgb(249, 115, 22) 0%, rgb(244, 63, 94) 50%, rgb(236, 72, 153) 100%\"\n                        : \"rgb(147, 51, 234) 0%, rgb(139, 92, 246) 50%, rgb(236, 72, 153) 100%\"\n                  })`,\n                  backgroundSize: \"200% 200%\",\n                  animation: \"gradient-shift 5s ease infinite\",\n                }}\n              />\n\n              <div className=\"absolute inset-0 glass-strong rounded-2xl sm:rounded-3xl group-hover:bg-white/15 transition-all duration-500\" />\n\n              <div className=\"absolute inset-0 rounded-2xl sm:rounded-3xl overflow-hidden\">\n                <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000\" />\n              </div>\n\n              <div className=\"relative h-full flex flex-col items-center justify-center p-5 sm:p-6 md:p-7 lg:p-8 rounded-2xl sm:rounded-3xl\">\n                <div\n                  className=\"text-6xl sm:text-7xl md:text-8xl lg:text-9xl mb-4 sm:mb-5 md:mb-6 bounce-gentle filter drop-shadow-2xl\"\n                  style={{ animationDelay: `${idx * 0.15}s` }}\n                >\n                  {game.emoji}\n                </div>\n\n                <h3 className=\"text-lg sm:text-xl md:text-2xl lg:text-3xl font-black text-white mb-2 sm:mb-3 md:mb-4 text-balance drop-shadow-2xl text-center leading-tight px-2\">\n                  {game.title}\n                </h3>\n\n                <p className=\"text-xs sm:text-sm md:text-base text-blue-50/95 text-center mb-4 sm:mb-5 md:mb-6 leading-relaxed px-2 sm:px-3 font-medium flex-grow flex items-center\">\n                  {game.description}\n                </p>\n\n                <div className=\"px-4 sm:px-5 md:px-6 py-2 sm:py-2.5 md:py-3 bg-white/30 rounded-full text-xs sm:text-sm font-bold text-white backdrop-blur-md border-2 border-white/40 shadow-xl group-hover:bg-white/40 group-hover:scale-105 transition-all duration-300\">\n                  {game.difficulty}\n                </div>\n\n                <div className=\"absolute bottom-4 sm:bottom-6 md:bottom-8 w-full flex gap-2 justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0\">\n                  <Link\n                    href={guideRoutes[game.gameType]}\n                    className=\"btn-modern flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg text-sm font-semibold backdrop-blur-md border border-white/30\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <BookOpen size={16} />\n                    <span>H∆∞·ªõng D·∫´n</span>\n                  </Link>\n                  <Link\n                    href={gameRoutes[game.gameType]}\n                    className=\"btn-modern flex items-center gap-2 px-4 py-2 bg-white/30 hover:bg-white/40 text-white rounded-lg text-sm font-semibold backdrop-blur-md border border-white/40\"\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    <span>Ch∆°i Ngay</span>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          )})}\n        </section>\n\n        <footer className=\"text-center slide-up\" style={{ animationDelay: \"0.4s\" }}>\n          <div className=\"glass-light px-5 sm:px-6 md:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl border border-white/10 inline-block\">\n            <p className=\"text-sm sm:text-base md:text-lg lg:text-xl text-slate-100 font-semibold drop-shadow-lg\">\n              Ch·ªçn m·ªôt tr√≤ ch∆°i ƒë·ªÉ b·∫Øt ƒë·∫ßu h·ªçc to√°n vui v·∫ª! üöÄ\n            </p>\n          </div>\n        </footer>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;;;AARA;;;;;;;AAqBA,MAAM,QAAoB;IACxB;QACE,OAAO;QACP,OAAO;QACP,MAAM,CAAC;QACP,KAAK;QACL,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU,iIAAU,CAAC,IAAI;IAC3B;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,KAAK;QACL,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU,iIAAU,CAAC,OAAO;IAC9B;IACA;QACE,OAAO;QACP,OAAO;QACP,MAAM;QACN,KAAK;QACL,OAAO;QACP,aAAa;QACb,YAAY;QACZ,UAAU,iIAAU,CAAC,IAAI;IAC3B;CACD;AAEc,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,IAAA,0KAAS;8BAAC;YACR,MAAM,YAAY,SAAS,cAAc,CAAC;YAC1C,IAAI,CAAC,WAAW;YAEhB,MAAM,QAAQ,IAAI,2JAAW;YAC7B,MAAM,SAAS,IAAI,uKAAuB,CAAC,IAAI,OAAO,UAAU,GAAG,OAAO,WAAW,EAAE,KAAK;YAC5F,MAAM,WAAW,IAAI,qLAAmB,CAAC;gBAAE,WAAW;gBAAM,OAAO;YAAK;YAExE,SAAS,OAAO,CAAC,OAAO,UAAU,EAAE,OAAO,WAAW;YACtD,SAAS,aAAa,CAAC,UAAU;YACjC,SAAS,gBAAgB,GAAG,oKAAoB;YAChD,SAAS,SAAS,CAAC,OAAO,GAAG;YAC7B,SAAS,SAAS,CAAC,IAAI,GAAG,sKAAsB;YAEhD,UAAU,WAAW,CAAC,SAAS,UAAU;YACzC,OAAO,QAAQ,CAAC,CAAC,GAAG;YAEpB,MAAM,UAAyB,EAAE;YACjC,MAAM,YAA0B,EAAE;YAElC,MAAM,OAAO;sCAAC,CAAC,MAAM;oBACnB,MAAM,QAAQ,IAAI,2JAAW;oBAE7B,MAAM,WAAW,IAAI,yKAAyB,CAAC,KAAK;oBACpD,MAAM,WAAW,IAAI,0KAA0B,CAAC;wBAC9C,OAAO,KAAK,KAAK;wBACjB,WAAW;wBACX,WAAW;wBACX,UAAU,KAAK,KAAK;wBACpB,mBAAmB;wBACnB,iBAAiB;oBACnB;oBACA,MAAM,SAAS,IAAI,0JAAU,CAAC,UAAU;oBACxC,OAAO,UAAU,GAAG;oBACpB,MAAM,GAAG,CAAC;oBAEV,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;wBAC1B,MAAM,eAAe,IAAI,yKAAyB,CAAC,MAAM,IAAI,MAAM;wBACnE,MAAM,eAAe,IAAI,0KAA0B,CAAC;4BAClD,OAAO,KAAK,KAAK;4BACjB,UAAU,KAAK,KAAK;4BACpB,mBAAmB;4BACnB,WAAW;4BACX,WAAW;4BACX,aAAa;4BACb,SAAU,MAAM,IAAI;4BACpB,MAAM,8JAAc;wBACtB;wBACA,MAAM,OAAO,IAAI,0JAAU,CAAC,cAAc;wBAC1C,MAAM,GAAG,CAAC;oBACZ;oBAEA,MAAM,QAAQ,CAAC,CAAC,GAAG,KAAK,IAAI;oBAC5B,MAAM,QAAQ,CAAC,CAAC,GAAG;oBACnB,MAAM,QAAQ,GAAG;wBAAE,WAAW;wBAAG,OAAO;wBAAO,OAAO;oBAAI;oBAC1D,MAAM,GAAG,CAAC;oBACV,QAAQ,IAAI,CAAC;oBAEb,MAAM,gBAAgB;oBACtB,IAAK,IAAI,IAAI,GAAG,IAAI,eAAe,IAAK;wBACtC,MAAM,YAAY,IAAI,oKAAoB,CAAC,MAAM,IAAI;wBACrD,MAAM,YAAY,IAAI,0KAA0B,CAAC;4BAC/C,OAAO,KAAK,KAAK;4BACjB,WAAW;4BACX,WAAW;4BACX,UAAU,KAAK,KAAK;4BACpB,mBAAmB;4BACnB,iBAAiB;4BACjB,aAAa;4BACb,SAAS;wBACX;wBACA,MAAM,WAAW,IAAI,0JAAU,CAAC,WAAW;wBAC3C,SAAS,UAAU,GAAG;wBACtB,MAAM,QAAQ,AAAC,IAAI,gBAAiB,KAAK,EAAE,GAAG;wBAC9C,SAAS,QAAQ,GAAG;4BAClB,aAAa;4BACb,OAAO;4BACP,UAAU;4BACV,OAAO;4BACP,OAAO;wBACT;wBACA,MAAM,GAAG,CAAC;wBACV,UAAU,IAAI,CAAC;oBACjB;gBACF;;YAEA,MAAM,SAAS,IAAI,gKAAgB,CAAC,UAAU,GAAG;YACjD,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI;YAC5B,MAAM,GAAG,CAAC;YAEV,MAAM,SAAS,IAAI,gKAAgB,CAAC,UAAU,GAAG;YACjD,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI;YAC9B,MAAM,GAAG,CAAC;YAEV,MAAM,SAAS,IAAI,gKAAgB,CAAC,UAAU,KAAK;YACnD,OAAO,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI;YAC3B,MAAM,GAAG,CAAC;YAEV,MAAM,eAAe,IAAI,kKAAkB,CAAC,UAAU;YACtD,MAAM,GAAG,CAAC;YAEV,MAAM;8CAAU;oBACd,sBAAsB;oBAEtB,MAAM,OAAO,KAAK,GAAG,KAAK;oBAE1B,QAAQ,OAAO;sDAAC,CAAC;4BACf,OAAO,QAAQ,CAAC,CAAC,IAAI;4BACrB,OAAO,QAAQ,CAAC,CAAC,IAAI;4BACrB,OAAO,QAAQ,CAAC,CAAC,IAAI;4BAErB,OAAO,QAAQ,CAAC,CAAC,GAAG,OAAO,QAAQ,CAAC,SAAS,GAAG,KAAK,GAAG,CAAC,OAAO,MAAM,OAAO,QAAQ,CAAC,KAAK,IAAI;4BAE/F,MAAM,QAAQ,IAAI,KAAK,GAAG,CAAC,OAAO,MAAM,OAAO,QAAQ,CAAC,KAAK,GAAG,OAAO;4BACvE,OAAO,KAAK,CAAC,GAAG,CAAC,OAAO,OAAO;4BAE/B,OAAO,QAAQ,CAAC,OAAO;8DAAC,CAAC,OAAO;oCAC9B,IAAI,IAAI,GAAG;wCACT,MAAM,QAAQ,CAAC,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC;wCAClC,MAAM,QAAQ,CAAC,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC;oCACpC;gCACF;;wBACF;;oBAEA,UAAU,OAAO;sDAAC,CAAC;4BACjB,IAAI,SAAS,QAAQ,CAAC,WAAW,KAAK,WAAW;gCAC/C,MAAM,eAAe,OAAO,CAAC,SAAS,QAAQ,CAAC,WAAW,CAAC;gCAC3D,SAAS,QAAQ,CAAC,KAAK,IAAI,SAAS,QAAQ,CAAC,KAAK;gCAElD,SAAS,QAAQ,CAAC,CAAC,GAAG,aAAa,QAAQ,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,SAAS,QAAQ,CAAC,KAAK,IAAI,SAAS,QAAQ,CAAC,QAAQ;gCAC9G,SAAS,QAAQ,CAAC,CAAC,GAAG,aAAa,QAAQ,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,SAAS,QAAQ,CAAC,KAAK,GAAG,OAAO,SAAS,QAAQ,CAAC,QAAQ;gCACpH,SAAS,QAAQ,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,SAAS,QAAQ,CAAC,KAAK,GAAG,OAAO,SAAS,QAAQ,CAAC,QAAQ,GAAG;gCAE7F,SAAS,QAAQ,CAAC,CAAC,IAAI;gCACvB,SAAS,QAAQ,CAAC,CAAC,IAAI;gCACvB,SAAS,QAAQ,CAAC,CAAC,IAAI;gCAEvB,MAAM,QAAQ,KAAK,GAAG,CAAC,OAAO,MAAM,SAAS,QAAQ,CAAC,WAAW,GAAG,SAAS,QAAQ,CAAC,KAAK,GAAG,OAAO,MAAM;gCAC3G,IAAI,SAAS,QAAQ,YAAY,0KAA0B,EAAE;oCAC3D,SAAS,QAAQ,CAAC,iBAAiB,GAAG,QAAQ,MAAM;gCACtD;gCAEA,MAAM,gBAAgB,KAAK,GAAG,CAAC,OAAO,IAAI,SAAS,QAAQ,CAAC,KAAK,IAAI,MAAM;gCAC3E,SAAS,KAAK,CAAC,GAAG,CAAC,eAAe,eAAe;4BACnD;wBACF;;oBAEA,SAAS,MAAM,CAAC,OAAO;gBACzB;;YAEA;YAEA,MAAM;mDAAe;oBACnB,OAAO,MAAM,GAAG,OAAO,UAAU,GAAG,OAAO,WAAW;oBACtD,OAAO,sBAAsB;oBAC7B,SAAS,OAAO,CAAC,OAAO,UAAU,EAAE,OAAO,WAAW;gBACxD;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAElC;sCAAO;oBACL,OAAO,mBAAmB,CAAC,UAAU;oBAErC,QAAQ,OAAO;8CAAC,CAAC;4BACf,OAAO,QAAQ;sDAAC,CAAC;oCACf,IAAI,iBAAiB,0JAAU,EAAE;wCAC/B,MAAM,QAAQ,CAAC,OAAO;wCACtB,IAAI,MAAM,OAAO,CAAC,MAAM,QAAQ,GAAG;4CACjC,MAAM,QAAQ,CAAC,OAAO;sEAAC,CAAC,WAA6B,SAAS,OAAO;;wCACvE,OAAO;4CACL,MAAM,QAAQ,CAAC,OAAO;wCACxB;oCACF;gCACF;;4BACA,MAAM,MAAM,CAAC;wBACf;;oBAEA,UAAU,OAAO;8CAAC,CAAC;4BACjB,SAAS,QAAQ,CAAC,OAAO;4BACzB,IAAI,MAAM,OAAO,CAAC,SAAS,QAAQ,GAAG;gCACpC,SAAS,QAAQ,CAAC,OAAO;0DAAC,CAAC,WAA6B,SAAS,OAAO;;4BAC1E,OAAO;gCACL,SAAS,QAAQ,CAAC,OAAO;4BAC3B;4BACA,MAAM,MAAM,CAAC;wBACf;;oBAEA,SAAS,OAAO;oBAChB,IAAI,UAAU,QAAQ,CAAC,SAAS,UAAU,GAAG;wBAC3C,UAAU,WAAW,CAAC,SAAS,UAAU;oBAC3C;gBACF;;QACF;6BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,IAAG;gBAAwB,WAAU;;;;;;0BAC1C,6LAAC;gBAAI,WAAU;;;;;;0BAEf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAO,WAAU;;0CAChB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAmH;;;;;;kDAGjI,6LAAC;wCAAI,WAAU;kDAAwG;;;;;;kDACvH,6LAAC;wCAAI,WAAU;wCAA2G,OAAO;4CAAE,gBAAgB;wCAAO;kDAAG;;;;;;;;;;;;0CAE/J,6LAAC;gCAAG,WAAU;0CAAkG;;;;;;0CAGhH,6LAAC;gCAAE,WAAU;0CAA+G;;;;;;;;;;;;kCAK9H,6LAAC;wBAAQ,WAAU;kCAChB,MAAM,GAAG,CAAC,CAAC,MAAM;4BAChB,MAAM,aAAwD;gCAC5D,CAAC,iIAAU,CAAC,IAAI,CAAC,EAAE;gCACnB,CAAC,iIAAU,CAAC,OAAO,CAAC,EAAE;gCACtB,CAAC,iIAAU,CAAC,IAAI,CAAC,EAAE;4BACrB;4BACA,MAAM,cAAyD;gCAC7D,CAAC,iIAAU,CAAC,IAAI,CAAC,EAAE;gCACnB,CAAC,iIAAU,CAAC,OAAO,CAAC,EAAE;gCACtB,CAAC,iIAAU,CAAC,IAAI,CAAC,EAAE;4BACrB;4BAEA,qBACA,6LAAC;gCAEC,WAAU;gCACV,OAAO;oCAAE,gBAAgB,GAAG,MAAM,IAAI,CAAC,CAAC;gCAAC;;kDAEzC,6LAAC;wCACC,WAAU;wCACV,OAAO;4CACL,YAAY,CAAC,wBAAwB,EACnC,KAAK,QAAQ,KAAK,iIAAU,CAAC,IAAI,GAC7B,uEACA,KAAK,QAAQ,KAAK,iIAAU,CAAC,OAAO,GAClC,uEACA,sEACP,CAAC,CAAC;4CACH,gBAAgB;4CAChB,WAAW;wCACb;;;;;;kDAGF,6LAAC;wCAAI,WAAU;;;;;;kDAEf,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CAAI,WAAU;;;;;;;;;;;kDAGjB,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,gBAAgB,GAAG,MAAM,KAAK,CAAC,CAAC;gDAAC;0DAEzC,KAAK,KAAK;;;;;;0DAGb,6LAAC;gDAAG,WAAU;0DACX,KAAK,KAAK;;;;;;0DAGb,6LAAC;gDAAE,WAAU;0DACV,KAAK,WAAW;;;;;;0DAGnB,6LAAC;gDAAI,WAAU;0DACZ,KAAK,UAAU;;;;;;0DAGlB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC,0KAAI;wDACH,MAAM,WAAW,CAAC,KAAK,QAAQ,CAAC;wDAChC,WAAU;wDACV,SAAS,CAAC,IAAM,EAAE,eAAe;;0EAEjC,6LAAC,6NAAQ;gEAAC,MAAM;;;;;;0EAChB,6LAAC;0EAAK;;;;;;;;;;;;kEAER,6LAAC,0KAAI;wDACH,MAAM,UAAU,CAAC,KAAK,QAAQ,CAAC;wDAC/B,WAAU;wDACV,SAAS,CAAC,IAAM,EAAE,eAAe;kEAEjC,cAAA,6LAAC;sEAAK;;;;;;;;;;;;;;;;;;;;;;;;+BA3DP,KAAK,QAAQ;;;;;wBAgErB;;;;;;kCAGH,6LAAC;wBAAO,WAAU;wBAAuB,OAAO;4BAAE,gBAAgB;wBAAO;kCACvE,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAE,WAAU;0CAAyF;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlH;GAtTwB;;QACP,kJAAS;;;KADF"}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/hooks/use-mouse-position.ts"],"sourcesContent":["import { useEffect, useRef, RefObject } from \"react\"\r\n\r\ninterface MousePosition {\r\n  x: number\r\n  y: number\r\n}\r\n\r\nexport function useMousePosition(containerRef: RefObject<HTMLElement | HTMLDivElement | null>) {\r\n  const mouseRef = useRef<MousePosition>({ x: 0, y: 0 })\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e: MouseEvent) => {\r\n      if (!containerRef.current) return\r\n      const rect = containerRef.current.getBoundingClientRect()\r\n      mouseRef.current.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\r\n      mouseRef.current.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\r\n    }\r\n\r\n    window.addEventListener(\"mousemove\", handleMouseMove)\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove)\r\n    }\r\n  }, [containerRef])\r\n\r\n  return mouseRef\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;;AAOO,SAAS,iBAAiB,YAA4D;;IAC3F,MAAM,WAAW,IAAA,uKAAM,EAAgB;QAAE,GAAG;QAAG,GAAG;IAAE;IAEpD,IAAA,0KAAS;sCAAC;YACR,MAAM;8DAAkB,CAAC;oBACvB,IAAI,CAAC,aAAa,OAAO,EAAE;oBAC3B,MAAM,OAAO,aAAa,OAAO,CAAC,qBAAqB;oBACvD,SAAS,OAAO,CAAC,CAAC,GAAG,AAAC,CAAC,EAAE,OAAO,GAAG,KAAK,IAAI,IAAI,KAAK,KAAK,GAAI,IAAI;oBAClE,SAAS,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,KAAK,GAAG,IAAI,KAAK,MAAM,IAAI,IAAI;gBACrE;;YAEA,OAAO,gBAAgB,CAAC,aAAa;YACrC;8CAAO;oBACL,OAAO,mBAAmB,CAAC,aAAa;gBAC1C;;QACF;qCAAG;QAAC;KAAa;IAEjB,OAAO;AACT;GAlBgB"}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/lib/three-helpers.ts"],"sourcesContent":["import * as THREE from \"three\"\r\nimport { GAME_CONFIG } from \"./constants\"\r\n\r\n/**\r\n * Creates a standard lighting setup for game scenes\r\n */\r\nexport function createGameLights(scene: THREE.Scene, options?: { intensity?: number; distance?: number }) {\r\n  const intensity = options?.intensity ?? 2\r\n  const distance = options?.distance ?? 150\r\n\r\n  const lights: THREE.Light[] = []\r\n\r\n  // Colored point lights\r\n  const light1 = new THREE.PointLight(GAME_CONFIG.COLORS.LIGHT_CYAN, intensity, distance)\r\n  light1.position.set(20, 20, 20)\r\n  light1.castShadow = true\r\n  scene.add(light1)\r\n  lights.push(light1)\r\n\r\n  const light2 = new THREE.PointLight(GAME_CONFIG.COLORS.LIGHT_PINK, intensity, distance)\r\n  light2.position.set(-20, -20, 20)\r\n  light2.castShadow = true\r\n  scene.add(light2)\r\n  lights.push(light2)\r\n\r\n  const light3 = new THREE.PointLight(GAME_CONFIG.COLORS.LIGHT_GREEN, intensity * 0.75, distance * 0.67)\r\n  light3.position.set(0, 25, 0)\r\n  scene.add(light3)\r\n  lights.push(light3)\r\n\r\n  // Ambient light\r\n  const ambientLight = new THREE.AmbientLight(GAME_CONFIG.COLORS.AMBIENT, 0.4)\r\n  scene.add(ambientLight)\r\n  lights.push(ambientLight)\r\n\r\n  return lights\r\n}\r\n\r\n/**\r\n * Creates a sphere with material and shadow settings\r\n */\r\nexport function createSphereMesh(\r\n  radius: number,\r\n  color: THREE.Color | number,\r\n  options?: {\r\n    segments?: number\r\n    metalness?: number\r\n    roughness?: number\r\n    emissiveIntensity?: number\r\n  },\r\n): THREE.Mesh {\r\n  const segments = options?.segments ?? 64\r\n  const geometry = new THREE.SphereGeometry(radius, segments, segments)\r\n  const material = new THREE.MeshStandardMaterial({\r\n    color: typeof color === \"number\" ? color : color.getHex(),\r\n    metalness: options?.metalness ?? 0.5,\r\n    roughness: options?.roughness ?? 0.3,\r\n    emissiveIntensity: options?.emissiveIntensity ?? 0.7,\r\n    envMapIntensity: 1.2,\r\n  })\r\n\r\n  if (color instanceof THREE.Color) {\r\n    material.emissive = color.clone().multiplyScalar(0.7)\r\n  }\r\n\r\n  const mesh = new THREE.Mesh(geometry, material)\r\n  mesh.castShadow = true\r\n  mesh.receiveShadow = true\r\n\r\n  return mesh\r\n}\r\n\r\n/**\r\n * Creates a box/cube mesh with material and shadow settings\r\n */\r\nexport function createBoxMesh(\r\n  size: number,\r\n  color: THREE.Color | number,\r\n  options?: {\r\n    metalness?: number\r\n    roughness?: number\r\n    emissiveIntensity?: number\r\n  },\r\n): THREE.Mesh {\r\n  const geometry = new THREE.BoxGeometry(size, size, size)\r\n  const material = new THREE.MeshStandardMaterial({\r\n    color: typeof color === \"number\" ? color : color.getHex(),\r\n    metalness: options?.metalness ?? 0.6,\r\n    roughness: options?.roughness ?? 0.3,\r\n    emissiveIntensity: options?.emissiveIntensity ?? 0.6,\r\n    envMapIntensity: 1.3,\r\n  })\r\n\r\n  if (color instanceof THREE.Color) {\r\n    material.emissive = color instanceof THREE.Color ? color.clone().multiplyScalar(0.5) : new THREE.Color(0x000000)\r\n  }\r\n\r\n  const mesh = new THREE.Mesh(geometry, material)\r\n  mesh.castShadow = true\r\n  mesh.receiveShadow = true\r\n\r\n  return mesh\r\n}\r\n\r\n/**\r\n * Creates a glowing sphere with multiple glow layers for bloom effect\r\n */\r\nexport function createGlowingSphere(\r\n  radius: number,\r\n  color: THREE.Color | number,\r\n  options?: {\r\n    segments?: number\r\n    glowLayers?: number\r\n    glowIntensity?: number\r\n  },\r\n): THREE.Group {\r\n  const group = new THREE.Group()\r\n  const segments = options?.segments ?? 64\r\n  const glowLayers = options?.glowLayers ?? 3\r\n  const glowIntensity = options?.glowIntensity ?? 0.8\r\n\r\n  const colorHex = typeof color === \"number\" ? color : color.getHex()\r\n  const colorObj = typeof color === \"number\" ? new THREE.Color(color) : color\r\n\r\n  // Main sphere with enhanced materials\r\n  const mainGeometry = new THREE.SphereGeometry(radius, segments, segments)\r\n  const mainMaterial = new THREE.MeshStandardMaterial({\r\n    color: colorHex,\r\n    metalness: 0.9,\r\n    roughness: 0.05,\r\n    emissive: colorHex,\r\n    emissiveIntensity: glowIntensity * 1.2,\r\n    envMapIntensity: 1.5,\r\n  })\r\n  const mainSphere = new THREE.Mesh(mainGeometry, mainMaterial)\r\n  mainSphere.castShadow = true\r\n  mainSphere.receiveShadow = true\r\n  group.add(mainSphere)\r\n\r\n  // Glow layers\r\n  for (let i = 0; i < glowLayers; i++) {\r\n    const glowRadius = radius * (1.1 + i * 0.15)\r\n    const glowGeometry = new THREE.SphereGeometry(glowRadius, 32, 32)\r\n    const glowMaterial = new THREE.MeshBasicMaterial({\r\n      color: colorHex,\r\n      transparent: true,\r\n      opacity: (0.3 - i * 0.08) * glowIntensity,\r\n      side: THREE.BackSide,\r\n    })\r\n    const glowMesh = new THREE.Mesh(glowGeometry, glowMaterial)\r\n    group.add(glowMesh)\r\n  }\r\n\r\n  return group\r\n}\r\n\r\n/**\r\n * Creates a particle system with glowing particles\r\n */\r\nexport function createParticleSystem(\r\n  count: number,\r\n  color: THREE.Color | number,\r\n  options?: {\r\n    size?: number\r\n    spread?: number\r\n    speed?: number\r\n  },\r\n): { particles: THREE.Points; update: (time: number) => void } {\r\n  const size = options?.size ?? 0.1\r\n  const spread = options?.spread ?? 50\r\n  const speed = options?.speed ?? 0.5\r\n\r\n  const geometry = new THREE.BufferGeometry()\r\n  const positions = new Float32Array(count * 3)\r\n  const colors = new Float32Array(count * 3)\r\n  const sizes = new Float32Array(count)\r\n  const velocities = new Float32Array(count * 3)\r\n\r\n  const colorHex = typeof color === \"number\" ? color : color.getHex()\r\n  const colorObj = typeof color === \"number\" ? new THREE.Color(color) : color\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    const i3 = i * 3\r\n    positions[i3] = (Math.random() - 0.5) * spread\r\n    positions[i3 + 1] = (Math.random() - 0.5) * spread\r\n    positions[i3 + 2] = (Math.random() - 0.5) * spread\r\n\r\n    const hue = Math.random()\r\n    const particleColor = new THREE.Color().setHSL(hue, 0.9, 0.6)\r\n    colors[i3] = particleColor.r\r\n    colors[i3 + 1] = particleColor.g\r\n    colors[i3 + 2] = particleColor.b\r\n\r\n    sizes[i] = Math.random() * size + size * 0.5\r\n\r\n    velocities[i3] = (Math.random() - 0.5) * speed\r\n    velocities[i3 + 1] = (Math.random() - 0.5) * speed\r\n    velocities[i3 + 2] = (Math.random() - 0.5) * speed\r\n  }\r\n\r\n  geometry.setAttribute(\"position\", new THREE.BufferAttribute(positions, 3))\r\n  geometry.setAttribute(\"color\", new THREE.BufferAttribute(colors, 3))\r\n  geometry.setAttribute(\"size\", new THREE.BufferAttribute(sizes, 1))\r\n\r\n  const material = new THREE.PointsMaterial({\r\n    size: size * 10,\r\n    vertexColors: true,\r\n    transparent: true,\r\n    opacity: 0.8,\r\n    blending: THREE.AdditiveBlending,\r\n    depthWrite: false,\r\n  })\r\n\r\n  const particles = new THREE.Points(geometry, material)\r\n\r\n  const update = (time: number) => {\r\n    const positions = geometry.attributes.position.array as Float32Array\r\n    const colors = geometry.attributes.color.array as Float32Array\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const i3 = i * 3\r\n\r\n      // Update position\r\n      positions[i3] += velocities[i3] * 0.01\r\n      positions[i3 + 1] += velocities[i3 + 1] * 0.01\r\n      positions[i3 + 2] += velocities[i3 + 2] * 0.01\r\n\r\n      // Bounce off boundaries\r\n      if (Math.abs(positions[i3]) > spread / 2) velocities[i3] *= -1\r\n      if (Math.abs(positions[i3 + 1]) > spread / 2) velocities[i3 + 1] *= -1\r\n      if (Math.abs(positions[i3 + 2]) > spread / 2) velocities[i3 + 2] *= -1\r\n\r\n      // Update color based on time\r\n      const hue = (time * 0.1 + i * 0.01) % 1\r\n      const particleColor = new THREE.Color().setHSL(hue, 0.9, 0.6)\r\n      colors[i3] = particleColor.r\r\n      colors[i3 + 1] = particleColor.g\r\n      colors[i3 + 2] = particleColor.b\r\n    }\r\n\r\n    geometry.attributes.position.needsUpdate = true\r\n    geometry.attributes.color.needsUpdate = true\r\n  }\r\n\r\n  return { particles, update }\r\n}\r\n\r\n/**\r\n * Creates a trail effect using a line\r\n */\r\nexport function createTrail(\r\n  points: THREE.Vector3[],\r\n  color: THREE.Color | number,\r\n  options?: {\r\n    width?: number\r\n    opacity?: number\r\n  },\r\n): THREE.Line {\r\n  const geometry = new THREE.BufferGeometry().setFromPoints(points)\r\n  const colorHex = typeof color === \"number\" ? color : color.getHex()\r\n  const material = new THREE.LineBasicMaterial({\r\n    color: colorHex,\r\n    transparent: true,\r\n    opacity: options?.opacity ?? 0.6,\r\n    linewidth: options?.width ?? 2,\r\n  })\r\n  return new THREE.Line(geometry, material)\r\n}\r\n\r\n/**\r\n * Creates enhanced lighting with more dynamic colors\r\n */\r\nexport function createEnhancedLights(scene: THREE.Scene, options?: { intensity?: number; distance?: number }) {\r\n  const intensity = options?.intensity ?? 2.5\r\n  const distance = options?.distance ?? 200\r\n\r\n  const lights: THREE.Light[] = []\r\n\r\n  // Multiple colored point lights for richer lighting\r\n  const colors = [\r\n    { color: 0x00f3ff, pos: [25, 25, 25] },\r\n    { color: 0xff006e, pos: [-25, -25, 25] },\r\n    { color: 0x00ff88, pos: [0, 30, 0] },\r\n    { color: 0xffaa00, pos: [-30, 0, 30] },\r\n    { color: 0xaa00ff, pos: [30, -20, 20] },\r\n  ]\r\n\r\n  colors.forEach(({ color, pos }) => {\r\n    const light = new THREE.PointLight(color, intensity * 0.8, distance)\r\n    light.position.set(pos[0], pos[1], pos[2])\r\n    light.castShadow = true\r\n    scene.add(light)\r\n    lights.push(light)\r\n  })\r\n\r\n  // Enhanced ambient light\r\n  const ambientLight = new THREE.AmbientLight(0xffffff, 0.5)\r\n  scene.add(ambientLight)\r\n  lights.push(ambientLight)\r\n\r\n  // Hemisphere light for more natural lighting\r\n  const hemisphereLight = new THREE.HemisphereLight(0xffffff, 0x444444, 0.6)\r\n  scene.add(hemisphereLight)\r\n  lights.push(hemisphereLight)\r\n\r\n  return lights\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 941, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/components/games/next-number-game.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { ArrowLeft, RotateCcw } from \"lucide-react\"\nimport * as THREE from \"three\"\nimport { useMousePosition } from \"@/hooks/use-mouse-position\"\nimport { createEnhancedLights, createGlowingSphere, createParticleSystem } from \"@/lib/three-helpers\"\nimport { UI_TEXT, GAME_CONFIG } from \"@/lib/constants\"\n\ninterface NextNumberGameProps {\n  onBack: () => void\n}\n\ninterface Question {\n  sequence: number[]\n  options: number[]\n  correct: number\n}\n\nconst generateQuestions = (): Question[] => {\n  return [\n    {\n      sequence: [2, 4, 6, 8],\n      options: [9, 10, 11, 12],\n      correct: 10,\n    },\n    {\n      sequence: [3, 6, 9, 12],\n      options: [14, 15, 16, 17],\n      correct: 15,\n    },\n    {\n      sequence: [1, 1, 2, 3, 5],\n      options: [7, 8, 9, 10],\n      correct: 8,\n    },\n    {\n      sequence: [1, 2, 4, 8],\n      options: [15, 16, 17, 18],\n      correct: 16,\n    },\n    {\n      sequence: [1, 4, 9, 16],\n      options: [24, 25, 26, 27],\n      correct: 25,\n    },\n  ]\n}\n\nexport default function NextNumberGame({ onBack }: NextNumberGameProps) {\n  const [questions] = useState<Question[]>(generateQuestions())\n  const [currentQuestion, setCurrentQuestion] = useState(0)\n  const [score, setScore] = useState(0)\n  const [answered, setAnswered] = useState(false)\n  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null)\n  const [draggedNumber, setDraggedNumber] = useState<number | null>(null)\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null)\n  const canvasRef = useRef<HTMLDivElement>(null)\n  const mouseRef = useMousePosition(canvasRef)\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n\n    const container = canvasRef.current\n    const scene = new THREE.Scene()\n    scene.fog = new THREE.Fog(\n      GAME_CONFIG.THREE.BACKGROUND_COLOR,\n      GAME_CONFIG.THREE.FOG_NEAR,\n      GAME_CONFIG.THREE.FOG_FAR,\n    )\n\n    const camera = new THREE.PerspectiveCamera(\n      GAME_CONFIG.THREE.FOV,\n      container.clientWidth / container.clientHeight,\n      GAME_CONFIG.THREE.NEAR,\n      GAME_CONFIG.THREE.FAR,\n    )\n    camera.position.z = 30\n\n    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true })\n    renderer.setSize(container.clientWidth, container.clientHeight)\n    renderer.setClearColor(GAME_CONFIG.THREE.BACKGROUND_COLOR, 0)\n    renderer.outputColorSpace = THREE.SRGBColorSpace\n    renderer.shadowMap.enabled = true\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap\n    renderer.shadowMap.autoUpdate = true\n    container.appendChild(renderer.domElement)\n\n    const question = questions[currentQuestion]\n    const groups: THREE.Group[] = []\n\n    question.sequence.forEach((num, idx) => {\n      const group = new THREE.Group()\n\n      const hue = 0.55 + (idx / question.sequence.length) * 0.15\n      const color = new THREE.Color().setHSL(hue, 0.95, 0.65)\n      const glowingSphere = createGlowingSphere(1.2, color, {\n        segments: 64,\n        glowLayers: 5,\n        glowIntensity: 1.0,\n      })\n      group.add(glowingSphere)\n\n      const torusRadius = 1.8\n      const torusThickness = 0.15\n\n      for (let i = 0; i < 4; i++) {\n        const torusGeom = new THREE.TorusGeometry(torusRadius + i * 0.1, torusThickness - i * 0.02, 48, 120)\n        const torusMat = new THREE.MeshStandardMaterial({\n          color: new THREE.Color().setHSL(hue, 0.98, 0.7 + i * 0.08),\n          emissive: new THREE.Color().setHSL(hue, 0.98, 0.5 + i * 0.05),\n          emissiveIntensity: 0.8,\n          metalness: 0.7,\n          roughness: 0.2,\n          transparent: true,\n          opacity: (0.75 - i * 0.1) * 0.98,\n          side: THREE.DoubleSide,\n        })\n        const torus = new THREE.Mesh(torusGeom, torusMat)\n        group.add(torus)\n        if (i === 0) {\n          group.userData.torusRing = torus\n        }\n      }\n\n      const particleCount = 16\n      for (let i = 0; i < particleCount; i++) {\n        const particleGeom = new THREE.SphereGeometry(0.12, 20, 20)\n        const particleMat = new THREE.MeshStandardMaterial({\n          color: new THREE.Color().setHSL(hue + (i / particleCount) * 0.2, 1, 0.75),\n          emissive: new THREE.Color().setHSL(hue + (i / particleCount) * 0.2, 1, 0.6),\n          emissiveIntensity: 1.2,\n          metalness: 0.8,\n          roughness: 0.1,\n          transparent: true,\n          opacity: 0.95,\n        })\n        const particle = new THREE.Mesh(particleGeom, particleMat)\n        const angle = (i / particleCount) * Math.PI * 2\n        particle.userData = {\n          angle: angle,\n          distance: 2.8,\n          speed: 0.04,\n          index: i,\n        }\n        group.add(particle)\n      }\n\n      const angle = (idx / question.sequence.length) * Math.PI * 2\n      group.position.x = Math.cos(angle) * 12\n      group.position.y = Math.sin(angle) * 12\n      group.userData = {\n        targetX: group.position.x,\n        targetY: group.position.y,\n        number: num,\n        index: idx,\n        torusRing: group.userData.torusRing,\n      }\n\n      scene.add(group)\n      groups.push(group)\n    })\n\n    const { particles: bgParticles, update: updateParticles } = createParticleSystem(200, 0x00d9ff, {\n      size: 0.06,\n      spread: 60,\n      speed: 0.4,\n    })\n    scene.add(bgParticles)\n\n    createEnhancedLights(scene, { intensity: 3.5, distance: 200 })\n\n    const accentLight1 = new THREE.PointLight(0x00d9ff, 3, 150)\n    accentLight1.position.set(30, 30, 30)\n    scene.add(accentLight1)\n\n    const accentLight2 = new THREE.PointLight(0x0066ff, 2.5, 150)\n    accentLight2.position.set(-30, -30, 30)\n    scene.add(accentLight2)\n\n    // Create option spheres for 3D interaction with text labels\n    const optionGroups: THREE.Group[] = []\n    const optionSpheres: THREE.Mesh[] = []\n    \n    question.options.forEach((option, idx) => {\n      const optionGroup = new THREE.Group()\n      const hue = 0.55 + (idx / question.options.length) * 0.15\n      const color = new THREE.Color().setHSL(hue, 0.98, 0.7)\n      \n      const optionSphere = createGlowingSphere(1.3, color, {\n        segments: 64,\n        glowLayers: 5,\n        glowIntensity: 1.0,\n      })\n      \n      // Add text label using canvas texture\n      const canvas = document.createElement(\"canvas\")\n      canvas.width = 256\n      canvas.height = 256\n      const ctx = canvas.getContext(\"2d\")!\n      ctx.fillStyle = \"#ffffff\"\n      ctx.font = \"bold 120px Arial\"\n      ctx.textAlign = \"center\"\n      ctx.textBaseline = \"middle\"\n      ctx.fillText(option.toString(), 128, 128)\n      ctx.strokeStyle = \"#00d9ff\"\n      ctx.lineWidth = 8\n      ctx.strokeText(option.toString(), 128, 128)\n      \n      const texture = new THREE.CanvasTexture(canvas)\n      texture.needsUpdate = true\n      \n      const labelGeometry = new THREE.PlaneGeometry(1.5, 1.5)\n      const labelMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        transparent: true,\n        opacity: 0.95,\n        side: THREE.DoubleSide,\n      })\n      const label = new THREE.Mesh(labelGeometry, labelMaterial)\n      label.position.z = 1.5\n      label.lookAt(camera.position)\n      \n      const angle = (idx / question.options.length) * Math.PI * 2\n      optionGroup.position.x = Math.cos(angle) * 9\n      optionGroup.position.y = -7 + Math.sin(angle) * 2.5\n      optionGroup.position.z = -3\n      \n      optionGroup.userData = {\n        option: option,\n        index: idx,\n        targetY: optionGroup.position.y,\n        targetZ: optionGroup.position.z,\n        label: label,\n        hovered: false,\n      }\n      \n      optionGroup.add(optionSphere)\n      optionGroup.add(label)\n      scene.add(optionGroup)\n      optionGroups.push(optionGroup)\n      optionSpheres.push(optionSphere.children[0] as THREE.Mesh)\n    })\n\n    // Raycaster for 3D interaction with hover effects\n    const raycaster = new THREE.Raycaster()\n    const mouse = new THREE.Vector2()\n    let hoveredOption: THREE.Group | null = null\n    \n    const handleMouseMove = (e: MouseEvent) => {\n      const rect = container.getBoundingClientRect()\n      mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\n      mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\n      \n      raycaster.setFromCamera(mouse, camera)\n      const intersects = raycaster.intersectObjects(optionGroups, true)\n      \n      if (intersects.length > 0 && !answered) {\n        const clickedObject = intersects[0].object\n        const optionGroup = clickedObject.parent as THREE.Group\n        if (optionGroup && optionGroup.userData.option !== undefined) {\n          if (hoveredOption !== optionGroup) {\n            if (hoveredOption) hoveredOption.userData.hovered = false\n            hoveredOption = optionGroup\n            optionGroup.userData.hovered = true\n          }\n        }\n      } else {\n        if (hoveredOption) {\n          hoveredOption.userData.hovered = false\n          hoveredOption = null\n        }\n      }\n    }\n    \n    const handleClick = (e: MouseEvent) => {\n      if (answered) return\n      \n      const rect = container.getBoundingClientRect()\n      mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\n      mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\n      \n      raycaster.setFromCamera(mouse, camera)\n      const intersects = raycaster.intersectObjects(optionGroups, true)\n      \n      if (intersects.length > 0) {\n        const clickedObject = intersects[0].object\n        const optionGroup = clickedObject.parent as THREE.Group\n        if (optionGroup && optionGroup.userData.option !== undefined) {\n          handleAnswer(optionGroup.userData.option)\n        }\n      }\n    }\n    \n    container.addEventListener(\"mousemove\", handleMouseMove)\n    container.addEventListener(\"click\", handleClick)\n\n    let animationId: number\n    const animate = () => {\n      animationId = requestAnimationFrame(animate)\n      const time = Date.now() * 0.001\n\n      updateParticles(time)\n\n      groups.forEach((group) => {\n        if (group.userData.number !== undefined) {\n          group.rotation.x += GAME_CONFIG.ANIMATION.ROTATION_SPEED * 1.8\n          group.rotation.y += GAME_CONFIG.ANIMATION.ROTATION_SPEED * 2.2\n          group.rotation.z += GAME_CONFIG.ANIMATION.ROTATION_SPEED * 0.6\n\n          const floatY = Math.sin(time + group.userData.index) * GAME_CONFIG.ANIMATION.FLOAT_AMPLITUDE * 1.2\n          const floatZ = Math.sin(time * 0.5 + group.userData.index) * 5\n          group.position.y = group.userData.targetY + floatY\n          group.position.z = floatZ\n\n          const mouseInfluence = (mouseRef.current.x * 6 - group.position.x * 0.03) * GAME_CONFIG.ANIMATION.MOUSE_INFLUENCE\n          group.position.x += mouseInfluence\n\n          if (group.userData.torusRing) {\n            const pulsing = Math.sin(time * GAME_CONFIG.ANIMATION.PULSE_SPEED * 1.2 + group.userData.index) * 0.5 + 0.5\n            group.userData.torusRing.scale.set(\n              1 + pulsing * 0.5,\n              1 + pulsing * 0.5,\n              1 + pulsing * 0.5,\n            )\n            group.userData.torusRing.material.opacity = pulsing * 0.95 + 0.05\n            group.userData.torusRing.rotation.z += 0.015\n          }\n\n          group.children.forEach((child: THREE.Object3D) => {\n            if (child instanceof THREE.Mesh && child.userData.angle !== undefined) {\n              child.userData.angle += child.userData.speed\n              const angle = child.userData.angle\n              const distance = child.userData.distance\n\n              child.position.x = Math.cos(angle) * distance\n              child.position.y = Math.sin(angle * 0.7) * distance\n              child.position.z = Math.sin(angle * 1.3) * distance * 0.6\n\n              child.rotation.x += 0.06\n              child.rotation.y += 0.06\n\n              const particlePulse = Math.sin(time * 3.5 + child.userData.index) * 0.3 + 0.7\n              child.scale.set(particlePulse, particlePulse, particlePulse)\n\n              const colorPulse = Math.sin(time * 2.5 + child.userData.index) * 0.5 + 0.5\n              child.material.opacity = colorPulse * 0.95 + 0.05\n            }\n          })\n\n          const spherePulse = Math.sin(time * 1.8 + group.userData.index) * 0.12 + 1\n          group.scale.set(spherePulse, spherePulse, spherePulse)\n        }\n      })\n\n      // Animate option spheres with enhanced effects\n      optionGroups.forEach((optionGroup) => {\n        optionGroup.rotation.x += 0.012\n        optionGroup.rotation.y += 0.018\n        optionGroup.rotation.z += 0.005\n        \n        const floatY = Math.sin(time * 1.5 + optionGroup.userData.index) * 1.2\n        optionGroup.position.y = optionGroup.userData.targetY + floatY\n        \n        const floatZ = Math.sin(time * 0.8 + optionGroup.userData.index) * 1.5\n        optionGroup.position.z = optionGroup.userData.targetZ + floatZ\n        \n        let pulse = Math.sin(time * 2 + optionGroup.userData.index) * 0.15 + 1\n        \n        // Hover effect\n        if (optionGroup.userData.hovered && !answered) {\n          pulse = Math.sin(time * 4) * 0.2 + 1.3\n          optionGroup.position.z = optionGroup.userData.targetZ + 2\n        }\n        \n        // Selected effect\n        if (selectedAnswer === optionGroup.userData.option) {\n          pulse = Math.sin(time * 3) * 0.25 + 1.4\n          optionGroup.position.z = optionGroup.userData.targetZ + 3\n        }\n        \n        optionGroup.scale.set(pulse, pulse, pulse)\n        \n        // Update label to always face camera\n        if (optionGroup.userData.label) {\n          optionGroup.userData.label.lookAt(camera.position)\n        }\n      })\n\n      renderer.render(scene, camera)\n    }\n\n    animate()\n\n    const handleResize = () => {\n      if (container) {\n        camera.aspect = container.clientWidth / container.clientHeight\n        camera.updateProjectionMatrix()\n        renderer.setSize(container.clientWidth, container.clientHeight)\n      }\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      container.removeEventListener(\"mousemove\", handleMouseMove)\n      container.removeEventListener(\"click\", handleClick)\n      cancelAnimationFrame(animationId)\n\n      optionGroups.forEach((group) => {\n        group.traverse((object: THREE.Object3D) => {\n          if (object instanceof THREE.Mesh) {\n            object.geometry.dispose()\n            if (Array.isArray(object.material)) {\n              object.material.forEach((material: THREE.Material) => material.dispose())\n            } else {\n              object.material.dispose()\n            }\n          }\n        })\n        scene.remove(group)\n      })\n\n      groups.forEach((group) => {\n        group.traverse((object: THREE.Object3D) => {\n          if (object instanceof THREE.Mesh) {\n            object.geometry.dispose()\n            if (Array.isArray(object.material)) {\n              object.material.forEach((material: THREE.Material) => material.dispose())\n            } else {\n              object.material.dispose()\n            }\n          }\n        })\n        scene.remove(group)\n      })\n\n      bgParticles.geometry.dispose()\n      if (Array.isArray(bgParticles.material)) {\n        bgParticles.material.forEach((material: THREE.Material) => material.dispose())\n      } else {\n        bgParticles.material.dispose()\n      }\n      scene.remove(bgParticles)\n\n      renderer.dispose()\n      if (container.contains(renderer.domElement)) {\n        container.removeChild(renderer.domElement)\n      }\n    }\n  }, [currentQuestion, questions, mouseRef])\n\n  const handleDragStart = (option: number) => {\n    if (answered) return\n    setDraggedNumber(option)\n  }\n\n  const handleDragEnd = () => {\n    if (draggedNumber !== null && dragOverIndex === question.sequence.length) {\n      handleAnswer(draggedNumber)\n    }\n    setDraggedNumber(null)\n    setDragOverIndex(null)\n  }\n\n  const handleDragOver = (e: React.DragEvent, index: number) => {\n    e.preventDefault()\n    if (!answered && draggedNumber !== null) {\n      setDragOverIndex(index)\n    }\n  }\n\n  const handleAnswer = (option: number) => {\n    if (answered) return\n\n    setSelectedAnswer(option)\n    setAnswered(true)\n\n    if (option === questions[currentQuestion].correct) {\n      setScore((prev) => prev + 1)\n    }\n  }\n\n  const handleNext = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion((prev) => prev + 1)\n      setAnswered(false)\n      setSelectedAnswer(null)\n      setDraggedNumber(null)\n      setDragOverIndex(null)\n    }\n  }\n\n  const handleRestart = () => {\n    setCurrentQuestion(0)\n    setScore(0)\n    setAnswered(false)\n    setSelectedAnswer(null)\n    setDraggedNumber(null)\n    setDragOverIndex(null)\n  }\n\n  const isGameComplete = currentQuestion === questions.length - 1 && answered\n  const question = questions[currentQuestion]\n\n  return (\n    <div className=\"relative w-full h-full flex flex-col\">\n      <div ref={canvasRef} className=\"absolute inset-0 -z-10\" />\n\n      <header className=\"absolute top-3 sm:top-4 left-3 sm:left-4 flex gap-2 sm:gap-3 z-30\">\n        <button\n          onClick={onBack}\n          className=\"btn-modern flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white rounded-xl text-sm sm:text-base font-semibold shadow-lg\"\n          aria-label={UI_TEXT.COMMON.BACK}\n        >\n          <ArrowLeft size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          <span className=\"hidden sm:inline\">{UI_TEXT.COMMON.BACK}</span>\n        </button>\n        <button\n          onClick={handleRestart}\n          className=\"btn-modern flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white rounded-xl text-sm sm:text-base font-semibold shadow-lg\"\n          aria-label={UI_TEXT.COMMON.RESTART}\n        >\n          <RotateCcw size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          <span className=\"hidden sm:inline\">{UI_TEXT.COMMON.RESTART}</span>\n        </button>\n      </header>\n\n      <div className=\"absolute top-4 right-4 z-30\">\n        <div className=\"glass-strong px-3 sm:px-4 py-2 rounded-xl border border-cyan-400/40 shadow-lg bg-gradient-to-r from-blue-900/30 to-cyan-900/30\">\n          <div className=\"text-lg sm:text-xl font-black text-cyan-300 flex items-center gap-2\">\n            <span>‚≠ê</span>\n            <span>\n              {UI_TEXT.COMMON.SCORE}: <span className=\"text-cyan-200\">{score}</span>/\n              <span className=\"text-cyan-400\">{questions.length}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <main className=\"absolute inset-0 flex items-center justify-center px-4 py-20 z-20 overflow-y-auto\">\n        <div className=\"glass-strong p-6 sm:p-8 rounded-3xl max-w-5xl w-full border-2 border-cyan-400/60 shadow-2xl relative overflow-hidden bg-gradient-to-br from-blue-950/30 via-cyan-950/25 to-blue-950/30 my-8 backdrop-blur-xl\">\n\n          <section className=\"mb-8 relative z-10\">\n            <div className=\"flex items-center gap-3 mb-5\">\n              <p className=\"text-sm text-cyan-200 font-bold px-4 py-2 bg-cyan-500/30 rounded-full border border-cyan-400/50\">\n                C√¢u {currentQuestion + 1}/{questions.length}\n              </p>\n            </div>\n            <h2 className=\"text-2xl sm:text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 via-blue-300 to-cyan-300 mb-6 sm:mb-8\">\n              {UI_TEXT.NEXT_NUMBER.TITLE}\n            </h2>\n            <p className=\"text-sm sm:text-base text-cyan-100 mb-4 sm:mb-6 font-medium text-center\">\n              K√©o s·ªë t·ª´ b√™n d∆∞·ªõi v√†o v·ªã tr√≠ <span className=\"text-cyan-300 font-bold\">?</span> ƒë·ªÉ ho√†n th√†nh d√£y s·ªë\n            </p>\n\n            <div className=\"flex gap-3 sm:gap-4 justify-center items-center mb-6 sm:mb-8 flex-wrap\">\n              {question.sequence.map((num, idx) => (\n                <div \n                  key={`${num}-${idx}`}\n                >\n                  <div className=\"number-badge w-14 h-14 sm:w-16 sm:h-16 text-xl sm:text-2xl bg-gradient-to-br from-cyan-500 via-blue-500 to-cyan-600 shadow-lg border-cyan-400/50\">\n                    <span>{num}</span>\n                  </div>\n                </div>\n              ))}\n              <div \n                className={`text-4xl sm:text-5xl font-black transition-all duration-200 ${\n                  dragOverIndex === question.sequence.length \n                    ? \"text-cyan-300 scale-110\" \n                    : selectedAnswer !== null\n                      ? selectedAnswer === question.correct\n                        ? \"text-green-400 scale-105\"\n                        : \"text-red-400 scale-105\"\n                      : \"text-cyan-400\"\n                }`}\n                onDragOver={(e) => handleDragOver(e, question.sequence.length)}\n                onDrop={handleDragEnd}\n              >\n                {selectedAnswer !== null ? selectedAnswer : \"?\"}\n              </div>\n            </div>\n          </section>\n\n          {!answered ? (\n            <section className=\"space-y-6 relative z-10\">\n              <div className=\"text-center mb-6\">\n                <p className=\"text-base text-cyan-200 mb-3 font-semibold\">\n                  K√©o s·ªë v√†o v·ªã tr√≠ tr·ªëng\n                </p>\n              </div>\n              <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4\">\n                {question.options.map((option) => (\n                  <div\n                    key={option}\n                    draggable={!answered}\n                    onDragStart={() => handleDragStart(option)}\n                    onDragEnd={handleDragEnd}\n                    className={`answer-btn py-4 sm:py-5 px-4 sm:px-6 text-lg sm:text-xl font-black relative overflow-hidden cursor-grab active:cursor-grabbing transition-all duration-200 ${\n                      draggedNumber === option ? \"opacity-50 scale-95\" : \"\"\n                    }`}\n                    style={{ \n                      background: draggedNumber === option \n                        ? \"linear-gradient(135deg, rgb(6, 182, 212), rgb(37, 99, 235))\"\n                        : \"linear-gradient(135deg, rgb(6, 182, 212), rgb(37, 99, 235), rgb(6, 182, 212))\"\n                    }}\n                  >\n                    <span className=\"relative z-10\">{option}</span>\n                  </div>\n                ))}\n              </div>\n            </section>\n          ) : (\n            <section className=\"text-center fade-in relative z-10\">\n              {selectedAnswer === question.correct ? (\n                <div className=\"mb-6 sm:mb-8\">\n                  <div className=\"text-6xl sm:text-8xl mb-4 sm:mb-6\">üéâ</div>\n                  <p className=\"text-2xl sm:text-3xl font-black text-green-400 mb-2 sm:mb-3\">\n                    {UI_TEXT.NEXT_NUMBER.CORRECT}\n                  </p>\n                  <p className=\"text-base sm:text-lg text-cyan-100 font-medium\">{UI_TEXT.NEXT_NUMBER.CORRECT_DESC}</p>\n                </div>\n              ) : (\n                <div className=\"mb-6 sm:mb-8\">\n                  <div className=\"text-6xl sm:text-8xl mb-4 sm:mb-6\">üòä</div>\n                  <p className=\"text-2xl sm:text-3xl font-black text-orange-400 mb-2 sm:mb-3\">\n                    {UI_TEXT.NEXT_NUMBER.INCORRECT}\n                  </p>\n                  <p className=\"text-base sm:text-lg text-cyan-100 font-medium\">\n                    {UI_TEXT.NEXT_NUMBER.CORRECT_ANSWER}{\" \"}\n                    <span className=\"font-black text-green-400 text-xl sm:text-2xl\">{question.correct}</span>\n                  </p>\n                </div>\n              )}\n\n              {!isGameComplete && (\n                <button\n                  onClick={handleNext}\n                  className=\"btn-modern mt-6 sm:mt-8 px-8 sm:px-10 py-3 sm:py-4 bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 hover:from-green-500 hover:via-emerald-500 hover:to-green-500 text-white font-black rounded-2xl text-base sm:text-lg shadow-xl\"\n                >\n                  {UI_TEXT.COMMON.NEXT_QUESTION}\n                </button>\n              )}\n            </section>\n          )}\n\n          {isGameComplete && (\n            <section className=\"text-center mt-6 sm:mt-8 fade-in relative z-10\">\n              <div className=\"mb-4 sm:mb-6\">\n                <div className=\"text-5xl sm:text-6xl mb-3 sm:mb-4\">üèÜ</div>\n                <p className=\"text-xl sm:text-2xl text-cyan-100 mb-2 font-bold\">\n                  {UI_TEXT.NEXT_NUMBER.COMPLETE}\n                </p>\n                <p className=\"text-2xl sm:text-3xl text-cyan-300 font-black mb-3 sm:mb-4\">\n                  {score} {UI_TEXT.NEXT_NUMBER.POINTS}\n                </p>\n              </div>\n              <button\n                onClick={handleRestart}\n                className=\"btn-modern px-8 sm:px-10 py-3 sm:py-4 bg-gradient-to-r from-cyan-600 via-blue-600 to-cyan-600 hover:from-cyan-500 hover:via-blue-500 hover:to-cyan-500 text-white font-black rounded-2xl text-base sm:text-lg shadow-xl\"\n              >\n                {UI_TEXT.COMMON.PLAY_AGAIN}\n              </button>\n            </section>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1925, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/components/games/missing-number-game.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { ArrowLeft, RotateCcw } from \"lucide-react\"\nimport * as THREE from \"three\"\nimport { useMousePosition } from \"@/hooks/use-mouse-position\"\nimport { createEnhancedLights, createBoxMesh, createParticleSystem } from \"@/lib/three-helpers\"\nimport { UI_TEXT, GAME_CONFIG } from \"@/lib/constants\"\n\ninterface MissingNumberGameProps {\n  onBack: () => void\n}\n\ninterface Question {\n  sequence: (number | null)[]\n  options: number[]\n  correct: number\n}\n\nconst generateQuestions = (): Question[] => {\n  return [\n    {\n      sequence: [2, 4, null, 8],\n      options: [5, 6, 7, 8],\n      correct: 6,\n    },\n    {\n      sequence: [1, null, 5, 7],\n      options: [2, 3, 4, 5],\n      correct: 3,\n    },\n    {\n      sequence: [10, 20, null, 40],\n      options: [25, 30, 35, 40],\n      correct: 30,\n    },\n    {\n      sequence: [5, null, 15, 20],\n      options: [8, 10, 12, 14],\n      correct: 10,\n    },\n    {\n      sequence: [3, 6, null, 12],\n      options: [7, 8, 9, 10],\n      correct: 9,\n    },\n  ]\n}\n\nexport default function MissingNumberGame({ onBack }: MissingNumberGameProps) {\n  const [questions] = useState<Question[]>(generateQuestions())\n  const [currentQuestion, setCurrentQuestion] = useState(0)\n  const [score, setScore] = useState(0)\n  const [answered, setAnswered] = useState(false)\n  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null)\n  const [showOptionPopup, setShowOptionPopup] = useState(false)\n  const [clickedNullIndex, setClickedNullIndex] = useState<number | null>(null)\n  const canvasRef = useRef<HTMLDivElement>(null)\n  const mouseRef = useMousePosition(canvasRef)\n  const nullGroupsRef = useRef<THREE.Group[]>([])\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n\n    const container = canvasRef.current\n    const scene = new THREE.Scene()\n    scene.fog = new THREE.Fog(\n      GAME_CONFIG.THREE.BACKGROUND_COLOR,\n      GAME_CONFIG.THREE.FOG_NEAR,\n      GAME_CONFIG.THREE.FOG_FAR,\n    )\n\n    const camera = new THREE.PerspectiveCamera(\n      GAME_CONFIG.THREE.FOV,\n      container.clientWidth / container.clientHeight,\n      GAME_CONFIG.THREE.NEAR,\n      GAME_CONFIG.THREE.FAR,\n    )\n    camera.position.z = 30\n\n    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true })\n    renderer.setSize(container.clientWidth, container.clientHeight)\n    renderer.setClearColor(GAME_CONFIG.THREE.BACKGROUND_COLOR, 0)\n    renderer.outputColorSpace = THREE.SRGBColorSpace\n    renderer.shadowMap.enabled = true\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap\n    container.appendChild(renderer.domElement)\n\n    const question = questions[currentQuestion]\n    const groups: THREE.Group[] = []\n\n    question.sequence.forEach((num, idx) => {\n      const group = new THREE.Group()\n      const isNull = num === null\n\n      const hue = 0.05 + (idx / Math.max(question.sequence.length, 1)) * 0.1\n      const color = new THREE.Color().setHSL(hue, 0.9, 0.55)\n\n      const cube = createBoxMesh(1.5, color, {\n        metalness: isNull ? 0.9 : 0.6,\n        roughness: isNull ? 0.05 : 0.3,\n        emissiveIntensity: isNull ? 1.0 : 0.5,\n      })\n\n      if (isNull && cube.material instanceof THREE.MeshStandardMaterial) {\n        cube.material.emissive = new THREE.Color(0xff6b35).multiplyScalar(0.9)\n      }\n\n      group.add(cube)\n\n      if (isNull) {\n        for (let i = 0; i < 4; i++) {\n          const edgeGeometry = new THREE.BoxGeometry(1.5 + i * 0.12, 1.5 + i * 0.12, 1.5 + i * 0.12)\n          const edgeMaterial = new THREE.MeshStandardMaterial({\n            color: 0xff6b35,\n            emissive: 0xff6b35,\n            emissiveIntensity: 0.8,\n            metalness: 0.7,\n            roughness: 0.2,\n            transparent: true,\n            opacity: (0.6 - i * 0.12),\n            wireframe: true,\n          })\n          const edge = new THREE.Mesh(edgeGeometry, edgeMaterial)\n          group.add(edge)\n        }\n\n        const glowGeometry = new THREE.BoxGeometry(2.2, 2.2, 2.2)\n        const glowMaterial = new THREE.MeshStandardMaterial({\n          color: 0xff6b35,\n          emissive: 0xff6b35,\n          emissiveIntensity: 0.5,\n          metalness: 0.3,\n          roughness: 0.4,\n          transparent: true,\n          opacity: 0.25,\n          side: THREE.BackSide,\n        })\n        const glow = new THREE.Mesh(glowGeometry, glowMaterial)\n        group.add(glow)\n      }\n\n      const angle = (idx / question.sequence.length) * Math.PI * 2\n      group.position.x = Math.cos(angle) * 10\n      group.position.y = Math.sin(angle) * 10\n      group.userData = {\n        targetX: group.position.x,\n        targetY: group.position.y,\n        number: num,\n        index: idx,\n        isNull: isNull,\n      }\n\n      scene.add(group)\n      groups.push(group)\n    })\n\n    const { particles: bgParticles, update: updateParticles } = createParticleSystem(180, 0xff6b35, {\n      size: 0.07,\n      spread: 60,\n      speed: 0.35,\n    })\n    scene.add(bgParticles)\n\n    createEnhancedLights(scene, { intensity: 3.5, distance: 200 })\n\n    const accentLight1 = new THREE.PointLight(0xff6b35, 3, 150)\n    accentLight1.position.set(30, 30, 30)\n    scene.add(accentLight1)\n\n    const accentLight2 = new THREE.PointLight(0xff4757, 2.5, 150)\n    accentLight2.position.set(-30, -30, 30)\n    scene.add(accentLight2)\n\n    // Store null groups for raycaster\n    nullGroupsRef.current = groups.filter(g => g.userData.isNull)\n    \n    // Raycaster for clicking on null position in sequence\n    const raycaster = new THREE.Raycaster()\n    const mouse = new THREE.Vector2()\n    let hoveredNull: THREE.Group | null = null\n    \n    let rafId: number | null = null\n    \n    const handleMouseMove = (e: MouseEvent) => {\n      if (answered || rafId !== null) return\n      \n      rafId = requestAnimationFrame(() => {\n        const rect = container.getBoundingClientRect()\n        mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\n        mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\n        \n        raycaster.setFromCamera(mouse, camera)\n        const intersects = raycaster.intersectObjects(nullGroupsRef.current, true)\n        \n        if (intersects.length > 0) {\n          const clickedObject = intersects[0].object\n          const nullGroup = clickedObject.parent as THREE.Group\n          if (nullGroup && nullGroup.userData.isNull) {\n            if (hoveredNull !== nullGroup) {\n              if (hoveredNull) hoveredNull.userData.hovered = false\n              hoveredNull = nullGroup\n              nullGroup.userData.hovered = true\n            }\n          }\n        } else {\n          if (hoveredNull) {\n            hoveredNull.userData.hovered = false\n            hoveredNull = null\n          }\n        }\n        rafId = null\n      })\n    }\n    \n    const handleClick = (e: MouseEvent) => {\n      if (answered) return\n      \n      const rect = container.getBoundingClientRect()\n      mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\n      mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\n      \n      raycaster.setFromCamera(mouse, camera)\n      const nullGroups = groups.filter(g => g.userData.isNull)\n      const intersects = raycaster.intersectObjects(nullGroups, true)\n      \n      if (intersects.length > 0) {\n        const clickedObject = intersects[0].object\n        const nullGroup = clickedObject.parent as THREE.Group\n        if (nullGroup && nullGroup.userData.isNull) {\n          const nullIndex = groups.findIndex(g => g === nullGroup)\n          setClickedNullIndex(nullIndex)\n          setShowOptionPopup(true)\n        }\n      }\n    }\n    \n    container.addEventListener(\"mousemove\", handleMouseMove)\n    container.addEventListener(\"click\", handleClick)\n\n    let animationId: number\n    let lastTime = 0\n    const targetFPS = 60\n    const frameInterval = 1000 / targetFPS\n    \n    const animate = (currentTime: number) => {\n      animationId = requestAnimationFrame(animate)\n      \n      const deltaTime = currentTime - lastTime\n      if (deltaTime < frameInterval) return\n      \n      lastTime = currentTime - (deltaTime % frameInterval)\n      const time = currentTime * 0.001\n\n      updateParticles(time)\n\n      groups.forEach((group) => {\n        if (group.userData.number !== undefined || group.userData.number === null) {\n          group.rotation.x += GAME_CONFIG.ANIMATION.ROTATION_SPEED * 1.2\n          group.rotation.y += GAME_CONFIG.ANIMATION.ROTATION_SPEED * 1.4\n\n          const floatY = Math.sin(time + group.userData.index) * GAME_CONFIG.ANIMATION.FLOAT_AMPLITUDE * 1.3\n          group.position.y = group.userData.targetY + floatY\n\n          const mouseInfluence = (mouseRef.current.x * 5 - group.position.x * 0.02) * GAME_CONFIG.ANIMATION.MOUSE_INFLUENCE\n          group.position.x += mouseInfluence\n\n          if (group.userData.isNull) {\n            const pulse = Math.sin(time * 2.5) * 0.3 + 0.7\n            group.scale.set(pulse, pulse, pulse)\n            \n            group.children.forEach((child: THREE.Object3D) => {\n              if (child instanceof THREE.Mesh && child.material instanceof THREE.MeshBasicMaterial && child.material.wireframe) {\n                child.rotation.x += 0.02\n                child.rotation.y += 0.02\n              }\n            })\n          }\n        }\n      })\n\n      // Enhanced hover effect for null position\n      groups.forEach((group) => {\n        if (group.userData.isNull && group.userData.hovered) {\n          const pulse = Math.sin(time * 3) * 0.2 + 1.2\n          group.scale.set(pulse, pulse, pulse)\n        }\n      })\n\n      renderer.render(scene, camera)\n    }\n\n    animate(0)\n\n    const handleResize = () => {\n      if (container) {\n        camera.aspect = container.clientWidth / container.clientHeight\n        camera.updateProjectionMatrix()\n        renderer.setSize(container.clientWidth, container.clientHeight)\n      }\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      container.removeEventListener(\"mousemove\", handleMouseMove)\n      container.removeEventListener(\"click\", handleClick)\n      cancelAnimationFrame(animationId)\n\n      groups.forEach((group) => {\n        group.traverse((object: THREE.Object3D) => {\n          if (object instanceof THREE.Mesh) {\n            object.geometry.dispose()\n            if (Array.isArray(object.material)) {\n              object.material.forEach((material: THREE.Material) => material.dispose())\n            } else {\n              object.material.dispose()\n            }\n          }\n        })\n        scene.remove(group)\n      })\n\n      bgParticles.geometry.dispose()\n      if (Array.isArray(bgParticles.material)) {\n        bgParticles.material.forEach((material: THREE.Material) => material.dispose())\n      } else {\n        bgParticles.material.dispose()\n      }\n      scene.remove(bgParticles)\n\n      renderer.dispose()\n      if (container.contains(renderer.domElement)) {\n        container.removeChild(renderer.domElement)\n      }\n    }\n  }, [currentQuestion, questions, mouseRef])\n\n  const handleAnswer = (option: number) => {\n    if (answered) return\n\n    setSelectedAnswer(option)\n    setAnswered(true)\n\n    if (option === questions[currentQuestion].correct) {\n      setScore((prev) => prev + 1)\n    }\n  }\n\n  const handleNext = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion((prev) => prev + 1)\n      setAnswered(false)\n      setSelectedAnswer(null)\n      setShowOptionPopup(false)\n      setClickedNullIndex(null)\n    }\n  }\n\n  const handleRestart = () => {\n    setCurrentQuestion(0)\n    setScore(0)\n    setAnswered(false)\n    setSelectedAnswer(null)\n    setShowOptionPopup(false)\n    setClickedNullIndex(null)\n  }\n\n  const isGameComplete = currentQuestion === questions.length - 1 && answered\n  const question = questions[currentQuestion]\n  const nullIndex = question.sequence.findIndex((n) => n === null)\n\n  return (\n    <div className=\"relative w-full h-full flex flex-col\">\n      <div ref={canvasRef} className=\"absolute inset-0 -z-10\" />\n\n      <header className=\"absolute top-3 sm:top-4 left-3 sm:left-4 flex gap-2 sm:gap-3 z-30\">\n        <button\n          onClick={onBack}\n          className=\"btn-modern flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white rounded-xl text-sm sm:text-base font-semibold shadow-lg\"\n          aria-label={UI_TEXT.COMMON.BACK}\n        >\n          <ArrowLeft size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          <span className=\"hidden sm:inline\">{UI_TEXT.COMMON.BACK}</span>\n        </button>\n        <button\n          onClick={handleRestart}\n          className=\"btn-modern flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white rounded-xl text-sm sm:text-base font-semibold shadow-lg\"\n          aria-label={UI_TEXT.COMMON.RESTART}\n        >\n          <RotateCcw size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          <span className=\"hidden sm:inline\">{UI_TEXT.COMMON.RESTART}</span>\n        </button>\n      </header>\n\n      <div className=\"absolute top-4 right-4 z-30\">\n        <div className=\"glass-strong px-3 sm:px-4 py-2 rounded-xl border border-orange-400/40 shadow-lg bg-gradient-to-r from-orange-900/30 to-red-900/30\">\n          <div className=\"text-lg sm:text-xl font-black text-orange-300 flex items-center gap-2\">\n            <span>‚≠ê</span>\n            <span>\n              {UI_TEXT.COMMON.SCORE}: <span className=\"text-orange-200\">{score}</span>/\n              <span className=\"text-orange-400\">{questions.length}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <main className=\"absolute inset-0 flex items-center justify-center px-4 py-20 z-20 overflow-y-auto\">\n        <div className=\"glass-strong p-6 sm:p-8 rounded-3xl max-w-5xl w-full border-2 border-orange-400/60 shadow-2xl relative overflow-hidden bg-gradient-to-br from-orange-950/30 via-red-950/25 to-orange-950/30 my-8 backdrop-blur-xl\">\n\n          <section className=\"mb-8 relative z-10\">\n            <div className=\"flex items-center gap-3 mb-5\">\n              <p className=\"text-sm text-orange-200 font-bold px-4 py-2 bg-orange-500/30 rounded-full border border-orange-400/50\">\n                C√¢u {currentQuestion + 1}/{questions.length}\n              </p>\n            </div>\n            <h2 className=\"text-2xl sm:text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-orange-300 via-red-300 to-orange-300 mb-6 sm:mb-8\">\n              {UI_TEXT.MISSING_NUMBER.TITLE}\n            </h2>\n            <p className=\"text-sm sm:text-base text-orange-100 mb-4 sm:mb-6 font-medium text-center\">\n              Click v√†o v·ªã tr√≠ <span className=\"text-orange-300 font-bold\">?</span> ƒë·ªÉ ch·ªçn s·ªë ƒëi·ªÅn v√†o\n            </p>\n\n            <div className=\"flex gap-3 sm:gap-4 justify-center items-center mb-6 sm:mb-8 flex-wrap\">\n              {question.sequence.map((num, idx) => (\n                <div \n                  key={`${num}-${idx}`}\n                >\n                  {num !== null ? (\n                    <div className=\"number-badge w-14 h-14 sm:w-16 sm:h-16 text-xl sm:text-2xl bg-gradient-to-br from-orange-500 to-red-600 shadow-lg border-orange-400/50\">\n                      <span>{num}</span>\n                    </div>\n                  ) : (\n                    <div \n                      className={`w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-gray-700 via-gray-800 to-gray-900 rounded-xl flex items-center justify-center text-xl sm:text-2xl font-black border-2 border-dashed shadow-lg transition-all duration-200 cursor-pointer ${\n                        clickedNullIndex === idx \n                          ? \"border-orange-400 scale-110 shadow-orange-500/50 bg-orange-900/30\" \n                          : selectedAnswer !== null && idx === nullIndex\n                            ? selectedAnswer === question.correct\n                              ? \"border-green-400 bg-green-900/30\"\n                              : \"border-red-400 bg-red-900/30\"\n                            : \"border-orange-400 hover:border-orange-300 hover:scale-105\"\n                      }`}\n                      onClick={() => {\n                        if (!answered && num === null) {\n                          setClickedNullIndex(idx)\n                          setShowOptionPopup(true)\n                        }\n                      }}\n                    >\n                      <span className={\n                        selectedAnswer !== null && idx === nullIndex\n                          ? selectedAnswer === question.correct\n                            ? \"text-green-400\"\n                            : \"text-red-400\"\n                          : \"text-orange-400\"\n                      }>\n                        {selectedAnswer !== null && idx === nullIndex ? selectedAnswer : \"?\"}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </section>\n\n          {showOptionPopup && !answered && (\n            <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n              <div className=\"glass-strong p-6 sm:p-8 rounded-3xl max-w-md w-full border-2 border-orange-500/50 shadow-xl bg-gradient-to-br from-orange-950/30 to-red-950/30 relative z-50\">\n                <div>\n                  <h3 className=\"text-2xl font-black text-orange-200 mb-6 text-center\">\n                    Ch·ªçn s·ªë ƒë·ªÉ ƒëi·ªÅn v√†o v·ªã tr√≠ tr·ªëng\n                  </h3>\n                  <div className=\"grid grid-cols-2 gap-3 sm:gap-4\">\n                    {question.options.map((option) => (\n                      <button\n                        key={option}\n                        onClick={() => {\n                          handleAnswer(option)\n                          setShowOptionPopup(false)\n                          setClickedNullIndex(null)\n                        }}\n                        className=\"answer-btn py-5 sm:py-6 px-6 sm:px-8 text-xl sm:text-2xl font-black bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-400 hover:to-red-500 transition-all duration-200 rounded-xl shadow-lg\"\n                      >\n                        <span>{option}</span>\n                      </button>\n                    ))}\n                  </div>\n                  <button\n                    onClick={() => {\n                      setShowOptionPopup(false)\n                      setClickedNullIndex(null)\n                    }}\n                    className=\"mt-6 w-full py-3 px-6 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 text-white font-semibold rounded-xl transition-all\"\n                  >\n                    H·ªßy\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {!answered && !showOptionPopup && (\n            <section className=\"space-y-6 relative z-10\">\n              <div className=\"text-center mb-6\">\n                <p className=\"text-base text-orange-200 mb-3 font-semibold\">\n                  Click v√†o v·ªã tr√≠ tr·ªëng ƒë·ªÉ ch·ªçn s·ªë\n                </p>\n              </div>\n            </section>\n          )}\n\n          {answered && (\n            <section className=\"text-center fade-in relative z-10\">\n              {selectedAnswer === question.correct ? (\n                <div className=\"mb-6 sm:mb-8\">\n                  <div className=\"text-6xl sm:text-8xl mb-4 sm:mb-6\">üåü</div>\n                  <p className=\"text-2xl sm:text-3xl font-black text-green-400 mb-2 sm:mb-3\">\n                    {UI_TEXT.MISSING_NUMBER.CORRECT}\n                  </p>\n                  <p className=\"text-base sm:text-lg text-orange-100 font-medium\">{UI_TEXT.MISSING_NUMBER.CORRECT_DESC}</p>\n                </div>\n              ) : (\n                <div className=\"mb-6 sm:mb-8\">\n                  <div className=\"text-6xl sm:text-8xl mb-4 sm:mb-6\">ü§î</div>\n                  <p className=\"text-2xl sm:text-3xl font-black text-orange-400 mb-2 sm:mb-3\">\n                    {UI_TEXT.MISSING_NUMBER.INCORRECT}\n                  </p>\n                  <p className=\"text-base sm:text-lg text-orange-100 font-medium\">\n                    {UI_TEXT.MISSING_NUMBER.CORRECT_ANSWER}{\" \"}\n                    <span className=\"font-black text-green-400 text-xl sm:text-2xl\">{question.correct}</span>\n                  </p>\n                </div>\n              )}\n\n              {!isGameComplete && (\n                <button\n                  onClick={handleNext}\n                  className=\"btn-modern mt-6 sm:mt-8 px-8 sm:px-10 py-3 sm:py-4 bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 hover:from-green-500 hover:via-emerald-500 hover:to-green-500 text-white font-black rounded-2xl text-base sm:text-lg shadow-xl\"\n                >\n                  {UI_TEXT.COMMON.NEXT_QUESTION}\n                </button>\n              )}\n            </section>\n          )}\n\n          {isGameComplete && (\n            <section className=\"text-center mt-6 sm:mt-8 fade-in relative z-10\">\n              <div className=\"mb-4 sm:mb-6\">\n                <div className=\"text-5xl sm:text-6xl mb-3 sm:mb-4\">üèÜ</div>\n                <p className=\"text-xl sm:text-2xl text-orange-100 mb-2 font-bold\">\n                  {UI_TEXT.MISSING_NUMBER.COMPLETE}\n                </p>\n                <p className=\"text-2xl sm:text-3xl text-orange-300 font-black mb-3 sm:mb-4\">\n                  {score} {UI_TEXT.MISSING_NUMBER.POINTS}\n                </p>\n              </div>\n              <button\n                onClick={handleRestart}\n                className=\"btn-modern px-8 sm:px-10 py-3 sm:py-4 bg-gradient-to-r from-orange-600 via-red-600 to-orange-600 hover:from-orange-500 hover:via-red-500 hover:to-orange-500 text-white font-black rounded-2xl text-base sm:text-lg shadow-xl\"\n              >\n                {UI_TEXT.COMMON.PLAY_AGAIN}\n              </button>\n            </section>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2843, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/components/games/sort-sequence-game.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { ArrowLeft, RotateCcw } from \"lucide-react\"\nimport * as THREE from \"three\"\nimport { createEnhancedLights, createGlowingSphere, createParticleSystem } from \"@/lib/three-helpers\"\nimport { UI_TEXT, GAME_CONFIG } from \"@/lib/constants\"\n\ninterface SortSequenceGameProps {\n  onBack: () => void\n}\n\ninterface Question {\n  numbers: number[]\n  correct: number[]\n  description: string\n}\n\nconst generateQuestions = (): Question[] => {\n  return [\n    {\n      numbers: [8, 2, 6, 4],\n      correct: [2, 4, 6, 8],\n      description: \"S·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn (C·ªông 2)\",\n    },\n    {\n      numbers: [12, 3, 9, 6],\n      correct: [3, 6, 9, 12],\n      description: \"S·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn (C·ªông 3)\",\n    },\n    {\n      numbers: [3, 5, 1, 2],\n      correct: [1, 2, 3, 5],\n      description: \"S·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn\",\n    },\n    {\n      numbers: [16, 4, 8, 2],\n      correct: [2, 4, 8, 16],\n      description: \"S·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn (Nh√¢n 2)\",\n    },\n    {\n      numbers: [25, 5, 15, 20],\n      correct: [5, 15, 20, 25],\n      description: \"S·∫Øp x·∫øp theo th·ª© t·ª± tƒÉng d·∫ßn (C·ªông 5)\",\n    },\n  ]\n}\n\nexport default function SortSequenceGame({ onBack }: SortSequenceGameProps) {\n  const [questions] = useState<Question[]>(generateQuestions())\n  const [currentQuestion, setCurrentQuestion] = useState(0)\n  const [score, setScore] = useState(0)\n  const [answered, setAnswered] = useState(false)\n  const [selected, setSelected] = useState<number[]>([])\n  const [clickedNumber, setClickedNumber] = useState<number | null>(null)\n  const canvasRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (!canvasRef.current) return\n\n    const container = canvasRef.current\n    const currentSelected = selected\n    const scene = new THREE.Scene()\n    scene.fog = new THREE.Fog(\n      GAME_CONFIG.THREE.BACKGROUND_COLOR,\n      GAME_CONFIG.THREE.FOG_NEAR + 20,\n      GAME_CONFIG.THREE.FOG_FAR,\n    )\n\n    const camera = new THREE.PerspectiveCamera(\n      GAME_CONFIG.THREE.FOV,\n      container.clientWidth / container.clientHeight,\n      GAME_CONFIG.THREE.NEAR,\n      GAME_CONFIG.THREE.FAR,\n    )\n    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true })\n\n    renderer.setSize(container.clientWidth, container.clientHeight)\n    renderer.setClearColor(GAME_CONFIG.THREE.BACKGROUND_COLOR, 0)\n    renderer.outputColorSpace = THREE.SRGBColorSpace\n    renderer.shadowMap.enabled = true\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap\n    container.appendChild(renderer.domElement)\n\n    camera.position.z = 35\n\n    const { particles: bgParticles, update: updateParticles } = createParticleSystem(250, 0xa855f7, {\n      size: 0.08,\n      spread: 50,\n      speed: 0.4,\n    })\n    scene.add(bgParticles)\n\n    const largeParticleCount = 35\n    const largeParticleGroups: THREE.Group[] = []\n\n    for (let i = 0; i < largeParticleCount; i++) {\n      const hue = 0.75 + Math.random() * 0.15\n      const color = new THREE.Color().setHSL(hue, 0.95, 0.7)\n      const glowingParticle = createGlowingSphere(0.4, color, {\n        segments: 32,\n        glowLayers: 4,\n        glowIntensity: 0.9,\n      })\n\n      glowingParticle.position.x = (Math.random() - 0.5) * 40\n      glowingParticle.position.y = (Math.random() - 0.5) * 40\n      glowingParticle.position.z = (Math.random() - 0.5) * 30\n\n      const userData: any = {\n        vx: (Math.random() - 0.5) * 0.02,\n        vy: (Math.random() - 0.5) * 0.02,\n        vz: (Math.random() - 0.5) * 0.02,\n        hue: hue,\n        index: i,\n      }\n      Object.assign(glowingParticle.userData, userData)\n\n      scene.add(glowingParticle)\n      largeParticleGroups.push(glowingParticle)\n    }\n\n    createEnhancedLights(scene, { intensity: 3.5, distance: 200 })\n\n    const accentLight1 = new THREE.PointLight(0xa855f7, 3, 120)\n    accentLight1.position.set(25, 25, 25)\n    scene.add(accentLight1)\n\n    const accentLight2 = new THREE.PointLight(0xec4899, 2.5, 120)\n    accentLight2.position.set(-25, -25, 25)\n    scene.add(accentLight2)\n\n    // Create option spheres for 3D interaction with text labels\n    const optionGroups: THREE.Group[] = []\n    const question = questions[currentQuestion]\n    \n    question.numbers.forEach((num, idx) => {\n      const optionGroup = new THREE.Group()\n      const hue = 0.75 + (idx / question.numbers.length) * 0.15\n      const color = new THREE.Color().setHSL(hue, 0.98, 0.75)\n      \n      const optionSphere = createGlowingSphere(1.1, color, {\n        segments: 48,\n        glowLayers: 4,\n        glowIntensity: 0.95,\n      })\n      \n      // Add text label\n      const canvas = document.createElement(\"canvas\")\n      canvas.width = 256\n      canvas.height = 256\n      const ctx = canvas.getContext(\"2d\")!\n      ctx.fillStyle = \"#ffffff\"\n      ctx.font = \"bold 100px Arial\"\n      ctx.textAlign = \"center\"\n      ctx.textBaseline = \"middle\"\n      ctx.fillText(num.toString(), 128, 128)\n      ctx.strokeStyle = \"#a855f7\"\n      ctx.lineWidth = 6\n      ctx.strokeText(num.toString(), 128, 128)\n      \n      const texture = new THREE.CanvasTexture(canvas)\n      texture.needsUpdate = true\n      \n      const labelGeometry = new THREE.PlaneGeometry(1.2, 1.2)\n      const labelMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        transparent: true,\n        opacity: 0.95,\n        side: THREE.DoubleSide,\n      })\n      const label = new THREE.Mesh(labelGeometry, labelMaterial)\n      label.position.z = 1.3\n      label.lookAt(camera.position)\n      \n      const angle = (idx / question.numbers.length) * Math.PI * 2\n      optionGroup.position.x = Math.cos(angle) * 7\n      optionGroup.position.y = -7 + Math.sin(angle) * 2\n      optionGroup.position.z = -3\n      \n      optionGroup.userData = {\n        number: num,\n        index: idx,\n        targetY: optionGroup.position.y,\n        targetZ: optionGroup.position.z,\n        isSelected: false,\n        label: label,\n        hovered: false,\n      }\n      \n      optionGroup.add(optionSphere)\n      optionGroup.add(label)\n      scene.add(optionGroup)\n      optionGroups.push(optionGroup)\n    })\n\n    // Raycaster for 3D interaction with hover effects\n    const raycaster = new THREE.Raycaster()\n    const mouse = new THREE.Vector2()\n    let hoveredOption: THREE.Group | null = null\n    \n    let rafId: number | null = null\n    const handleMouseMove = (e: MouseEvent) => {\n      if (rafId !== null) return\n      \n      rafId = requestAnimationFrame(() => {\n        const rect = container.getBoundingClientRect()\n        mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\n        mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\n        \n        raycaster.setFromCamera(mouse, camera)\n        const intersects = raycaster.intersectObjects(optionGroups, true)\n        \n        if (intersects.length > 0 && !answered) {\n          const clickedObject = intersects[0].object\n          const optionGroup = clickedObject.parent as THREE.Group\n          if (optionGroup && optionGroup.userData.number !== undefined) {\n            if (hoveredOption !== optionGroup) {\n              if (hoveredOption) hoveredOption.userData.hovered = false\n              hoveredOption = optionGroup\n              optionGroup.userData.hovered = true\n            }\n          }\n        } else {\n          if (hoveredOption) {\n            hoveredOption.userData.hovered = false\n            hoveredOption = null\n          }\n        }\n        rafId = null\n      })\n    }\n    \n    const handleClick = (e: MouseEvent) => {\n      if (answered) return\n      \n      const rect = container.getBoundingClientRect()\n      mouse.x = ((e.clientX - rect.left) / rect.width) * 2 - 1\n      mouse.y = -((e.clientY - rect.top) / rect.height) * 2 + 1\n      \n      raycaster.setFromCamera(mouse, camera)\n      const intersects = raycaster.intersectObjects(optionGroups, true)\n      \n      if (intersects.length > 0) {\n        const clickedObject = intersects[0].object\n        const optionGroup = clickedObject.parent as THREE.Group\n        if (optionGroup && optionGroup.userData.number !== undefined) {\n          const num = optionGroup.userData.number\n          const newSelected = [...currentSelected]\n          const existingIndex = newSelected.indexOf(num)\n\n          if (existingIndex > -1) {\n            newSelected.splice(existingIndex, 1)\n          } else {\n            newSelected.push(num)\n          }\n\n          setSelected(newSelected)\n          optionGroup.userData.isSelected = newSelected.includes(num)\n\n          if (newSelected.length === questions[currentQuestion].numbers.length) {\n            const isCorrect = JSON.stringify(newSelected) === JSON.stringify(questions[currentQuestion].correct)\n            setAnswered(true)\n\n            if (isCorrect) {\n              setScore((prev) => prev + 1)\n            }\n          }\n        }\n      }\n    }\n    \n    container.addEventListener(\"mousemove\", handleMouseMove)\n    container.addEventListener(\"click\", handleClick)\n\n    let animationId: number\n    let lastTime = 0\n    const targetFPS = 60\n    const frameInterval = 1000 / targetFPS\n    \n    const animate = (currentTime: number) => {\n      animationId = requestAnimationFrame(animate)\n      \n      const deltaTime = currentTime - lastTime\n      if (deltaTime < frameInterval) return\n      \n      lastTime = currentTime - (deltaTime % frameInterval)\n      const time = currentTime * 0.001\n\n      updateParticles(time)\n\n      largeParticleGroups.forEach((group) => {\n        if (!group || !group.userData) return\n\n        const userData = group.userData as any\n\n        group.position.x += userData.vx\n        group.position.y += userData.vy\n        group.position.z += userData.vz\n\n        if (Math.abs(group.position.x) > 25) userData.vx *= -1\n        if (Math.abs(group.position.y) > 25) userData.vy *= -1\n        if (Math.abs(group.position.z) > 20) userData.vz *= -1\n\n        group.rotation.x += 0.015\n        group.rotation.y += 0.015\n        group.rotation.z += 0.01\n\n        const hue = (time * 0.15 + userData.index * 0.02) % 0.15 + 0.75\n        const color = new THREE.Color().setHSL(hue, 0.95, 0.7)\n        \n        group.traverse((child: THREE.Object3D) => {\n          if (child instanceof THREE.Mesh) {\n            if (child.material instanceof THREE.MeshStandardMaterial) {\n              child.material.color.copy(color)\n              child.material.emissive.copy(color).multiplyScalar(0.8)\n            } else if (child.material instanceof THREE.MeshBasicMaterial) {\n              child.material.color.copy(color)\n            }\n          }\n        })\n\n        const scale = Math.sin(time * 2.5 + userData.index * 0.15) * 0.4 + 1\n        group.scale.set(scale, scale, scale)\n      })\n\n      // Animate option spheres with enhanced effects\n      optionGroups.forEach((optionGroup) => {\n        optionGroup.rotation.x += 0.012\n        optionGroup.rotation.y += 0.018\n        optionGroup.rotation.z += 0.005\n        \n        const floatY = Math.sin(time * 1.5 + optionGroup.userData.index) * 1.2\n        optionGroup.position.y = optionGroup.userData.targetY + floatY\n        \n        const isSelected = currentSelected.includes(optionGroup.userData.number)\n        const isClicked = clickedNumber === optionGroup.userData.number\n        optionGroup.userData.isSelected = isSelected\n        \n        let pulse = Math.sin(time * 2 + optionGroup.userData.index) * 0.15 + 1\n        let targetZ = optionGroup.userData.targetZ\n        \n        // Hover effect\n        if (optionGroup.userData.hovered && !answered && !isSelected && !isClicked) {\n          pulse = Math.sin(time * 4) * 0.2 + 1.3\n          targetZ = optionGroup.userData.targetZ + 2\n        }\n        \n        // Clicked effect (selected to place)\n        if (isClicked && !answered) {\n          pulse = Math.sin(time * 4) * 0.25 + 1.4\n          targetZ = optionGroup.userData.targetZ + 3\n        }\n        \n        // Selected effect (already placed)\n        if (isSelected && !isClicked) {\n          pulse = Math.sin(time * 3) * 0.2 + 1.25\n          targetZ = optionGroup.userData.targetZ + 1.5\n        }\n        \n        optionGroup.position.z = THREE.MathUtils.lerp(optionGroup.position.z, targetZ, 0.1)\n        optionGroup.scale.set(pulse, pulse, pulse)\n        \n        // Update label to always face camera\n        if (optionGroup.userData.label) {\n          optionGroup.userData.label.lookAt(camera.position)\n        }\n      })\n\n      renderer.render(scene, camera)\n    }\n\n    animate(0)\n\n    const handleResize = () => {\n      if (container) {\n        camera.aspect = container.clientWidth / container.clientHeight\n        camera.updateProjectionMatrix()\n        renderer.setSize(container.clientWidth, container.clientHeight)\n      }\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      container.removeEventListener(\"mousemove\", handleMouseMove)\n      container.removeEventListener(\"click\", handleClick)\n      cancelAnimationFrame(animationId)\n\n      optionGroups.forEach((group) => {\n        group.traverse((child: THREE.Object3D) => {\n          if (child instanceof THREE.Mesh) {\n            child.geometry.dispose()\n            if (Array.isArray(child.material)) {\n              child.material.forEach((material: THREE.Material) => material.dispose())\n            } else {\n              child.material.dispose()\n            }\n          }\n        })\n        scene.remove(group)\n      })\n\n      largeParticleGroups.forEach((group) => {\n        if (group) {\n          group.traverse((child: THREE.Object3D) => {\n            if (child instanceof THREE.Mesh) {\n              child.geometry.dispose()\n              if (Array.isArray(child.material)) {\n                child.material.forEach((material: THREE.Material) => material.dispose())\n              } else {\n                child.material.dispose()\n              }\n            }\n          })\n          scene.remove(group)\n        }\n      })\n\n      bgParticles.geometry.dispose()\n      if (Array.isArray(bgParticles.material)) {\n        bgParticles.material.forEach((material: THREE.Material) => material.dispose())\n      } else {\n        bgParticles.material.dispose()\n      }\n      scene.remove(bgParticles)\n\n      renderer.dispose()\n      if (container.contains(renderer.domElement)) {\n        container.removeChild(renderer.domElement)\n      }\n    }\n  }, [currentQuestion, selected, answered, score])\n\n  const handleSelectNumber = (num: number) => {\n    if (answered) return\n    \n    // Toggle selection - if already clicked, deselect; otherwise select\n    if (clickedNumber === num) {\n      setClickedNumber(null)\n    } else {\n      setClickedNumber(num)\n    }\n  }\n\n  const handlePlaceNumber = (position: number) => {\n    if (answered || clickedNumber === null) return\n\n    const newSelected = [...selected]\n    \n    // Remove number if already placed\n    const existingIndex = newSelected.indexOf(clickedNumber)\n    if (existingIndex > -1) {\n      newSelected.splice(existingIndex, 1)\n    }\n    \n    // Insert at the clicked position\n    newSelected.splice(position, 0, clickedNumber)\n    \n    // Limit to available positions\n    if (newSelected.length > questions[currentQuestion].numbers.length) {\n      newSelected.pop()\n    }\n    \n    setSelected(newSelected)\n    setClickedNumber(null)\n\n    if (newSelected.length === questions[currentQuestion].numbers.length) {\n      const isCorrect = JSON.stringify(newSelected) === JSON.stringify(questions[currentQuestion].correct)\n      setAnswered(true)\n\n      if (isCorrect) {\n        setScore((prev) => prev + 1)\n      }\n    }\n  }\n\n  const handleNext = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion((prev) => prev + 1)\n      setAnswered(false)\n      setSelected([])\n      setClickedNumber(null)\n    }\n  }\n\n  const handleRestart = () => {\n    setCurrentQuestion(0)\n    setScore(0)\n    setAnswered(false)\n    setSelected([])\n    setClickedNumber(null)\n  }\n\n  const isGameComplete = currentQuestion === questions.length - 1 && answered\n  const question = questions[currentQuestion]\n  const unselected = question.numbers.filter((n) => !selected.includes(n))\n  const displaySequence = selected.length > 0 ? selected : []\n\n  return (\n    <div className=\"relative w-full h-full flex flex-col\">\n      <div ref={canvasRef} className=\"absolute inset-0 -z-10\" />\n\n      <header className=\"absolute top-3 sm:top-4 left-3 sm:left-4 flex gap-2 sm:gap-3 z-30\">\n        <button\n          onClick={onBack}\n          className=\"btn-modern flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500 text-white rounded-xl text-sm sm:text-base font-semibold shadow-lg\"\n          aria-label={UI_TEXT.COMMON.BACK}\n        >\n          <ArrowLeft size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          <span className=\"hidden sm:inline\">{UI_TEXT.COMMON.BACK}</span>\n        </button>\n        <button\n          onClick={handleRestart}\n          className=\"btn-modern flex items-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 text-white rounded-xl text-sm sm:text-base font-semibold shadow-lg\"\n          aria-label={UI_TEXT.COMMON.RESTART}\n        >\n          <RotateCcw size={16} className=\"sm:w-[18px] sm:h-[18px]\" />\n          <span className=\"hidden sm:inline\">{UI_TEXT.COMMON.RESTART}</span>\n        </button>\n      </header>\n\n      <div className=\"absolute top-4 right-4 z-30\">\n        <div className=\"glass-strong px-3 sm:px-4 py-2 rounded-xl border border-purple-400/40 shadow-lg bg-gradient-to-r from-purple-900/30 to-violet-900/30\">\n          <div className=\"text-lg sm:text-xl font-black text-purple-300 flex items-center gap-2\">\n            <span>‚≠ê</span>\n            <span>\n              {UI_TEXT.COMMON.SCORE}: <span className=\"text-purple-200\">{score}</span>/\n              <span className=\"text-purple-400\">{questions.length}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <main className=\"absolute inset-0 flex items-center justify-center px-4 py-20 z-20 overflow-y-auto\">\n        <div className=\"glass-strong p-6 sm:p-8 rounded-3xl max-w-6xl w-full border-2 border-purple-400/60 shadow-2xl relative overflow-hidden bg-gradient-to-br from-purple-950/30 via-violet-950/25 to-purple-950/30 my-8 backdrop-blur-xl\">\n\n          <section className=\"mb-8 relative z-10\">\n            <div className=\"flex items-center gap-3 mb-5\">\n              <p className=\"text-sm text-purple-200 font-bold px-4 py-2 bg-purple-500/30 rounded-full border border-purple-400/50\">\n                C√¢u {currentQuestion + 1}/{questions.length}\n              </p>\n            </div>\n            <h2 className=\"text-2xl sm:text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-300 via-violet-300 to-purple-300 mb-3\">\n              {question.description}\n            </h2>\n            <p className=\"text-sm sm:text-base text-purple-100 mb-4 sm:mb-6 font-medium text-center\">\n              {clickedNumber === null\n                ? \"Click v√†o s·ªë ƒë·ªÉ ch·ªçn, sau ƒë√≥ click v√†o v·ªã tr√≠ ƒë·ªÉ ƒë·∫∑t s·ªë ƒë√≥\"\n                : `ƒê√£ ch·ªçn s·ªë ${clickedNumber}. Click v√†o v·ªã tr√≠ ƒë·ªÉ ƒë·∫∑t s·ªë n√†y`}\n            </p>\n\n            <div className=\"glass p-4 sm:p-6 rounded-2xl mb-4 sm:mb-5 border border-purple-500/50 relative overflow-hidden\">\n              <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 opacity-50\" />\n              <p className=\"text-sm sm:text-base text-purple-100 mb-3 sm:mb-4 font-bold text-center\">\n                {UI_TEXT.SORT_SEQUENCE.SELECT_NUMBERS}\n              </p>\n              <div className=\"flex gap-3 sm:gap-4 flex-wrap justify-center\">\n                {unselected.map((num) => (\n                  <button\n                    key={num}\n                    onClick={() => handleSelectNumber(num)}\n                    disabled={answered}\n                    className={`number-badge w-14 h-14 sm:w-16 sm:h-16 text-lg sm:text-xl bg-gradient-to-br from-purple-500 to-violet-500 shadow-lg disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 ${\n                      clickedNumber === num ? \"ring-4 ring-purple-300 scale-110 shadow-purple-300/80\" : \"\"\n                    }`}\n                    aria-label={`Ch·ªçn s·ªë ${num}`}\n                  >\n                    <span>{num}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"glass p-4 sm:p-6 rounded-2xl border border-green-500/50 relative overflow-hidden\">\n              <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-500 via-emerald-500 to-green-500 opacity-50\" />\n              <p className=\"text-sm sm:text-base text-purple-100 mb-3 sm:mb-4 font-bold text-center\">\n                {UI_TEXT.SORT_SEQUENCE.SORTED_SEQUENCE}\n              </p>\n              <div className=\"flex gap-3 sm:gap-4 flex-wrap justify-center min-h-20 sm:min-h-24 items-center\">\n                {Array.from({ length: question.numbers.length }).map((_, idx) => (\n                  <button\n                    key={`position-${idx}`}\n                    onClick={() => handlePlaceNumber(idx)}\n                    disabled={answered || clickedNumber === null}\n                    className={`transition-all duration-200 ${\n                      clickedNumber !== null && !answered ? \"cursor-pointer hover:scale-105\" : \"cursor-default\"\n                    }`}\n                  >\n                    {displaySequence[idx] !== undefined ? (\n                      <div className=\"number-badge w-14 h-14 sm:w-16 sm:h-16 text-lg sm:text-xl bg-gradient-to-br from-green-500 to-emerald-500 shadow-lg\">\n                        <span>{displaySequence[idx]}</span>\n                      </div>\n                    ) : (\n                      <div className={`w-14 h-14 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center border-2 border-dashed transition-all ${\n                        clickedNumber !== null && !answered\n                          ? \"border-purple-400 bg-purple-900/30 hover:bg-purple-900/50 hover:border-purple-300\"\n                          : \"border-purple-600/30 bg-purple-950/20\"\n                      }`}>\n                        <span className=\"text-purple-400 text-lg sm:text-xl font-bold\">?</span>\n                      </div>\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </section>\n\n          {answered && (\n            <section className=\"text-center fade-in relative z-10\">\n              {JSON.stringify(selected) === JSON.stringify(question.correct) ? (\n                <div className=\"mb-6 sm:mb-8\">\n                  <div className=\"text-6xl sm:text-8xl mb-4 sm:mb-6\">üöÄ</div>\n                  <p className=\"text-2xl sm:text-3xl font-black text-green-400 mb-2 sm:mb-3\">\n                    {UI_TEXT.SORT_SEQUENCE.CORRECT}\n                  </p>\n                  <p className=\"text-base sm:text-lg text-purple-100 font-medium\">{UI_TEXT.SORT_SEQUENCE.CORRECT_DESC}</p>\n                </div>\n              ) : (\n                <div className=\"mb-6 sm:mb-8\">\n                  <div className=\"text-6xl sm:text-8xl mb-4 sm:mb-6\">üí™</div>\n                  <p className=\"text-2xl sm:text-3xl font-black text-orange-400 mb-2 sm:mb-3\">\n                    {UI_TEXT.SORT_SEQUENCE.INCORRECT}\n                  </p>\n                  <p className=\"text-base sm:text-lg text-purple-100 font-medium\">\n                    {UI_TEXT.SORT_SEQUENCE.CORRECT_ANSWER}{\" \"}\n                    <span className=\"font-black text-green-400 text-lg sm:text-xl\">{question.correct.join(\", \")}</span>\n                  </p>\n                </div>\n              )}\n\n              {!isGameComplete && (\n                <button\n                  onClick={handleNext}\n                  className=\"btn-modern mt-6 sm:mt-8 px-8 sm:px-10 py-3 sm:py-4 bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 hover:from-green-500 hover:via-emerald-500 hover:to-green-500 text-white font-black rounded-2xl text-base sm:text-lg shadow-xl\"\n                >\n                  {UI_TEXT.COMMON.NEXT_QUESTION}\n                </button>\n              )}\n            </section>\n          )}\n\n          {isGameComplete && (\n            <section className=\"text-center mt-6 sm:mt-8 fade-in relative z-10\">\n              <div className=\"mb-4 sm:mb-6\">\n                <div className=\"text-5xl sm:text-6xl mb-3 sm:mb-4\">üèÜ</div>\n                <p className=\"text-xl sm:text-2xl text-purple-100 mb-2 font-bold\">\n                  {UI_TEXT.SORT_SEQUENCE.COMPLETE}\n                </p>\n                <p className=\"text-2xl sm:text-3xl text-purple-300 font-black mb-3 sm:mb-4\">\n                  {score} {UI_TEXT.SORT_SEQUENCE.POINTS}\n                </p>\n              </div>\n              <button\n                onClick={handleRestart}\n                className=\"btn-modern px-8 sm:px-10 py-3 sm:py-4 bg-gradient-to-r from-purple-600 via-violet-600 to-purple-600 hover:from-purple-500 hover:via-violet-500 hover:to-purple-500 text-white font-black rounded-2xl text-base sm:text-lg shadow-xl\"\n              >\n                {UI_TEXT.COMMON.PLAY_AGAIN}\n              </button>\n            </section>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3834, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/lib/planet-textures.ts"],"sourcesContent":["import * as THREE from \"three\"\r\n\r\n/**\r\n * Creates a realistic planet texture with gradient and surface details\r\n */\r\nexport function createPlanetTexture(\r\n  baseColor: number,\r\n  size: number = 512,\r\n  options?: {\r\n    gradientIntensity?: number\r\n    noiseScale?: number\r\n    patternType?: \"smooth\" | \"rough\" | \"clouds\" | \"craters\"\r\n  },\r\n): THREE.CanvasTexture {\r\n  const canvas = document.createElement(\"canvas\")\r\n  canvas.width = size\r\n  canvas.height = size\r\n  const ctx = canvas.getContext(\"2d\")!\r\n\r\n  const gradientIntensity = options?.gradientIntensity ?? 0.6\r\n  const noiseScale = options?.noiseScale ?? 0.1\r\n  const patternType = options?.patternType ?? \"smooth\"\r\n\r\n  const centerX = size / 2\r\n  const centerY = size / 2\r\n  const radius = size / 2\r\n\r\n  // Base color\r\n  const baseColorObj = new THREE.Color(baseColor)\r\n  const r = Math.floor(baseColorObj.r * 255)\r\n  const g = Math.floor(baseColorObj.g * 255)\r\n  const b = Math.floor(baseColorObj.b * 255)\r\n\r\n  // Create realistic radial gradient for sphere effect with better lighting\r\n  const gradient = ctx.createRadialGradient(centerX * 0.65, centerY * 0.65, 0, centerX, centerY, radius)\r\n  \r\n  // Light side (top-left) - brighter highlight\r\n  const lightR = Math.min(255, r + 80)\r\n  const lightG = Math.min(255, g + 80)\r\n  const lightB = Math.min(255, b + 80)\r\n  \r\n  // Mid-tone\r\n  const midR = Math.min(255, r + 20)\r\n  const midG = Math.min(255, g + 20)\r\n  const midB = Math.min(255, b + 20)\r\n  \r\n  // Dark side (bottom-right) - deeper shadow\r\n  const darkR = Math.max(0, r - 60)\r\n  const darkG = Math.max(0, g - 60)\r\n  const darkB = Math.max(0, b - 60)\r\n\r\n  gradient.addColorStop(0, `rgb(${lightR}, ${lightG}, ${lightB})`)\r\n  gradient.addColorStop(0.3, `rgb(${midR}, ${midG}, ${midB})`)\r\n  gradient.addColorStop(0.6, `rgb(${r}, ${g}, ${b})`)\r\n  gradient.addColorStop(1, `rgb(${darkR}, ${darkG}, ${darkB})`)\r\n\r\n  ctx.fillStyle = gradient\r\n  ctx.fillRect(0, 0, size, size)\r\n\r\n  // Add surface patterns\r\n  if (patternType === \"rough\") {\r\n    // Add realistic noise/texture with better distribution\r\n    const imageData = ctx.getImageData(0, 0, size, size)\r\n    const data = imageData.data\r\n\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const x = (i / 4) % size\r\n      const y = Math.floor(i / 4 / size)\r\n      const dist = Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2)\r\n      \r\n      if (dist < radius) {\r\n        // Perlin-like noise with multiple octaves\r\n        const noise1 = (Math.random() - 0.5) * 25\r\n        const noise2 = (Math.random() - 0.5) * 15\r\n        const noise3 = (Math.random() - 0.5) * 8\r\n        const totalNoise = noise1 + noise2 * 0.5 + noise3 * 0.25\r\n        \r\n        // Add some color variation\r\n        const colorVariation = (Math.random() - 0.5) * 10\r\n        \r\n        data[i] = Math.max(0, Math.min(255, data[i] + totalNoise + colorVariation)) // R\r\n        data[i + 1] = Math.max(0, Math.min(255, data[i + 1] + totalNoise)) // G\r\n        data[i + 2] = Math.max(0, Math.min(255, data[i + 2] + totalNoise - colorVariation)) // B\r\n      }\r\n    }\r\n    ctx.putImageData(imageData, 0, 0)\r\n  } else if (patternType === \"clouds\") {\r\n    // Add realistic cloud-like patterns with better layering\r\n    for (let i = 0; i < 30; i++) {\r\n      const cloudX = centerX + (Math.random() - 0.5) * radius * 1.5\r\n      const cloudY = centerY + (Math.random() - 0.5) * radius * 1.5\r\n      const cloudRadius = radius * (0.08 + Math.random() * 0.25)\r\n      \r\n      // Main cloud\r\n      const cloudGradient = ctx.createRadialGradient(cloudX, cloudY, 0, cloudX, cloudY, cloudRadius)\r\n      cloudGradient.addColorStop(0, `rgba(255, 255, 255, ${0.4 + Math.random() * 0.3})`)\r\n      cloudGradient.addColorStop(0.6, `rgba(255, 255, 255, ${0.2 + Math.random() * 0.2})`)\r\n      cloudGradient.addColorStop(1, \"rgba(255, 255, 255, 0)\")\r\n      \r\n      ctx.fillStyle = cloudGradient\r\n      ctx.beginPath()\r\n      ctx.arc(cloudX, cloudY, cloudRadius, 0, Math.PI * 2)\r\n      ctx.fill()\r\n      \r\n      // Add smaller cloud details for realism\r\n      if (Math.random() > 0.5) {\r\n        const detailX = cloudX + (Math.random() - 0.5) * cloudRadius * 0.8\r\n        const detailY = cloudY + (Math.random() - 0.5) * cloudRadius * 0.8\r\n        const detailRadius = cloudRadius * (0.4 + Math.random() * 0.3)\r\n        \r\n        const detailGradient = ctx.createRadialGradient(detailX, detailY, 0, detailX, detailY, detailRadius)\r\n        detailGradient.addColorStop(0, `rgba(255, 255, 255, ${0.3 + Math.random() * 0.2})`)\r\n        detailGradient.addColorStop(1, \"rgba(255, 255, 255, 0)\")\r\n        \r\n        ctx.fillStyle = detailGradient\r\n        ctx.beginPath()\r\n        ctx.arc(detailX, detailY, detailRadius, 0, Math.PI * 2)\r\n        ctx.fill()\r\n      }\r\n    }\r\n  } else if (patternType === \"craters\") {\r\n    // Add realistic crater-like patterns with rim highlights\r\n    for (let i = 0; i < 20; i++) {\r\n      const craterX = centerX + (Math.random() - 0.5) * radius * 1.5\r\n      const craterY = centerY + (Math.random() - 0.5) * radius * 1.5\r\n      const craterRadius = radius * (0.04 + Math.random() * 0.12)\r\n      \r\n      // Crater shadow (darker center)\r\n      const craterGradient = ctx.createRadialGradient(\r\n        craterX - craterRadius * 0.4,\r\n        craterY - craterRadius * 0.4,\r\n        0,\r\n        craterX,\r\n        craterY,\r\n        craterRadius,\r\n      )\r\n      craterGradient.addColorStop(0, `rgba(0, 0, 0, ${0.5 + Math.random() * 0.3})`)\r\n      craterGradient.addColorStop(0.7, `rgba(0, 0, 0, ${0.2 + Math.random() * 0.2})`)\r\n      craterGradient.addColorStop(1, \"rgba(0, 0, 0, 0)\")\r\n      \r\n      ctx.fillStyle = craterGradient\r\n      ctx.beginPath()\r\n      ctx.arc(craterX, craterY, craterRadius, 0, Math.PI * 2)\r\n      ctx.fill()\r\n      \r\n      // Add rim highlight for realism\r\n      const rimX = craterX + craterRadius * 0.3\r\n      const rimY = craterY + craterRadius * 0.3\r\n      const rimGradient = ctx.createRadialGradient(rimX, rimY, 0, rimX, rimY, craterRadius * 0.3)\r\n      rimGradient.addColorStop(0, `rgba(255, 255, 255, ${0.2 + Math.random() * 0.2})`)\r\n      rimGradient.addColorStop(1, \"rgba(255, 255, 255, 0)\")\r\n      \r\n      ctx.fillStyle = rimGradient\r\n      ctx.beginPath()\r\n      ctx.arc(rimX, rimY, craterRadius * 0.3, 0, Math.PI * 2)\r\n      ctx.fill()\r\n    }\r\n  }\r\n\r\n  // Add realistic highlight for sphere effect (Fresnel-like)\r\n  const highlightGradient = ctx.createRadialGradient(\r\n    centerX * 0.55,\r\n    centerY * 0.55,\r\n    0,\r\n    centerX * 0.55,\r\n    centerY * 0.55,\r\n    radius * 0.5,\r\n  )\r\n  highlightGradient.addColorStop(0, \"rgba(255, 255, 255, 0.5)\")\r\n  highlightGradient.addColorStop(0.5, \"rgba(255, 255, 255, 0.2)\")\r\n  highlightGradient.addColorStop(1, \"rgba(255, 255, 255, 0)\")\r\n\r\n  ctx.fillStyle = highlightGradient\r\n  ctx.beginPath()\r\n  ctx.arc(centerX * 0.55, centerY * 0.55, radius * 0.5, 0, Math.PI * 2)\r\n  ctx.fill()\r\n  \r\n  // Add secondary highlight for more depth\r\n  const secondaryHighlight = ctx.createRadialGradient(\r\n    centerX * 0.7,\r\n    centerY * 0.7,\r\n    0,\r\n    centerX * 0.7,\r\n    centerY * 0.7,\r\n    radius * 0.3,\r\n  )\r\n  secondaryHighlight.addColorStop(0, \"rgba(255, 255, 255, 0.3)\")\r\n  secondaryHighlight.addColorStop(1, \"rgba(255, 255, 255, 0)\")\r\n\r\n  ctx.fillStyle = secondaryHighlight\r\n  ctx.beginPath()\r\n  ctx.arc(centerX * 0.7, centerY * 0.7, radius * 0.3, 0, Math.PI * 2)\r\n  ctx.fill()\r\n\r\n  const texture = new THREE.CanvasTexture(canvas)\r\n  texture.wrapS = THREE.RepeatWrapping\r\n  texture.wrapT = THREE.RepeatWrapping\r\n  return texture\r\n}\r\n\r\n/**\r\n * Creates a normal map for planet surface detail\r\n */\r\nexport function createPlanetNormalMap(size: number = 512): THREE.CanvasTexture {\r\n  const canvas = document.createElement(\"canvas\")\r\n  canvas.width = size\r\n  canvas.height = size\r\n  const ctx = canvas.getContext(\"2d\")!\r\n\r\n  const centerX = size / 2\r\n  const centerY = size / 2\r\n  const radius = size / 2\r\n\r\n  const imageData = ctx.createImageData(size, size)\r\n  const data = imageData.data\r\n\r\n  for (let y = 0; y < size; y++) {\r\n    for (let x = 0; x < size; x++) {\r\n      const dist = Math.sqrt((x - centerX) ** 2 + (y - centerY) ** 2)\r\n      const index = (y * size + x) * 4\r\n\r\n      if (dist < radius) {\r\n        // Normal map: RGB = XYZ * 0.5 + 0.5\r\n        const nx = (x - centerX) / radius\r\n        const ny = (y - centerY) / radius\r\n        const nz = Math.sqrt(Math.max(0, 1 - nx * nx - ny * ny))\r\n\r\n        // Add some noise for surface detail\r\n        const noise = (Math.random() - 0.5) * 0.1\r\n        const finalNz = Math.max(0, Math.min(1, nz + noise))\r\n\r\n        data[index] = Math.floor((nx * 0.5 + 0.5) * 255) // R\r\n        data[index + 1] = Math.floor((ny * 0.5 + 0.5) * 255) // G\r\n        data[index + 2] = Math.floor((finalNz * 0.5 + 0.5) * 255) // B\r\n        data[index + 3] = 255 // A\r\n      } else {\r\n        data[index] = 128\r\n        data[index + 1] = 128\r\n        data[index + 2] = 255\r\n        data[index + 3] = 0\r\n      }\r\n    }\r\n  }\r\n\r\n  ctx.putImageData(imageData, 0, 0)\r\n\r\n  const texture = new THREE.CanvasTexture(canvas)\r\n  texture.wrapS = THREE.RepeatWrapping\r\n  texture.wrapT = THREE.RepeatWrapping\r\n  return texture\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4026, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/components/solar-system-background.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef, useState } from \"react\"\nimport * as THREE from \"three\"\nimport { createPlanetTexture, createPlanetNormalMap } from \"@/lib/planet-textures\"\n\nconst STAR_COUNT = 2000\nconst SUN_RADIUS = 12\nconst SUN_GLOW_RADIUS_1 = 13.5\nconst SUN_GLOW_RADIUS_2 = 15.5\nconst SUN_GLOW_RADIUS_3 = 18\n\nconst PLANETS = [\n  {\n    name: \"Mercury\",\n    size: 4,\n    distance: 28,\n    speed: 0.08,\n    color: 0x8c7853,\n    emissive: 0x4a3d2a,\n    rings: false,\n    glowColor: 0xaa9066,\n    patternType: \"craters\" as const,\n  },\n  {\n    name: \"Venus\",\n    size: 5,\n    distance: 42,\n    speed: 0.03,\n    color: 0xffc649,\n    emissive: 0xffaa00,\n    rings: false,\n    glowColor: 0xffd880,\n    patternType: \"clouds\" as const,\n  },\n  {\n    name: \"Earth\",\n    size: 4.8,\n    distance: 58,\n    speed: 0.018,\n    color: 0x2e7cde,\n    emissive: 0x1a4a8a,\n    rings: false,\n    glowColor: 0x4a9eff,\n    patternType: \"clouds\" as const,\n  },\n  {\n    name: \"Mars\",\n    size: 4.2,\n    distance: 75,\n    speed: 0.012,\n    color: 0xe27b58,\n    emissive: 0x8a4a35,\n    rings: false,\n    glowColor: 0xff9d7a,\n    patternType: \"rough\" as const,\n  },\n] as const\n\nexport default function SolarSystemBackground() {\n  const containerRef = useRef<HTMLDivElement>(null)\n  const [hoveredPlanet, setHoveredPlanet] = useState<string | null>(null)\n  const raycasterRef = useRef<THREE.Raycaster | null>(null)\n  const mouseRef = useRef({ x: 0, y: 0 })\n\n  useEffect(() => {\n    if (!containerRef.current) return\n\n    const container = containerRef.current\n    const width = window.innerWidth\n    const height = window.innerHeight\n\n    const scene = new THREE.Scene()\n    const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 10000)\n    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true })\n\n    camera.position.z = 100\n    renderer.setSize(width, height)\n    renderer.setClearColor(0x0a0e27, 1)\n    renderer.outputColorSpace = THREE.SRGBColorSpace\n    renderer.shadowMap.enabled = true\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap\n    container.appendChild(renderer.domElement)\n\n    // Enhanced stars background with twinkling\n    const starsGeometry = new THREE.BufferGeometry()\n    const starPositions = new Float32Array(STAR_COUNT * 3)\n    const starSizes = new Float32Array(STAR_COUNT)\n    const starOpacities = new Float32Array(STAR_COUNT)\n\n    for (let i = 0; i < STAR_COUNT * 3; i += 3) {\n      starPositions[i] = (Math.random() - 0.5) * 2000\n      starPositions[i + 1] = (Math.random() - 0.5) * 2000\n      starPositions[i + 2] = (Math.random() - 0.5) * 2000\n      starSizes[i / 3] = Math.random() * 2 + 0.5\n      starOpacities[i / 3] = Math.random()\n    }\n\n    starsGeometry.setAttribute(\"position\", new THREE.BufferAttribute(starPositions, 3))\n    starsGeometry.setAttribute(\"size\", new THREE.BufferAttribute(starSizes, 1))\n    starsGeometry.setAttribute(\"opacity\", new THREE.BufferAttribute(starOpacities, 1))\n\n    const starsMaterial = new THREE.PointsMaterial({\n      color: 0xffffff,\n      sizeAttenuation: true,\n      transparent: true,\n      opacity: 1,\n      blending: THREE.AdditiveBlending,\n    })\n    const stars = new THREE.Points(starsGeometry, starsMaterial)\n    scene.add(stars)\n\n    // Enhanced Sun with realistic texture\n    const sunGroup = new THREE.Group()\n\n    // Create sun texture\n    const sunTexture = createPlanetTexture(0xfdb813, 512, {\n      gradientIntensity: 0.8,\n      patternType: \"smooth\",\n    })\n\n    // Main sun with texture\n    const sunGeometry = new THREE.SphereGeometry(SUN_RADIUS, 64, 64)\n    const sunMaterial = new THREE.MeshStandardMaterial({\n      map: sunTexture,\n      emissive: 0xfdb813,\n      emissiveIntensity: 1.5,\n      metalness: 0.1,\n      roughness: 0.2,\n    })\n    const sun = new THREE.Mesh(sunGeometry, sunMaterial)\n    sun.castShadow = true\n    sunGroup.add(sun)\n\n    // Multiple glow layers\n    for (let i = 0; i < 4; i++) {\n      const glowRadius = SUN_RADIUS + 1.5 + i * 2\n      const glowGeometry = new THREE.SphereGeometry(glowRadius, 32, 32)\n      const glowMaterial = new THREE.MeshBasicMaterial({\n        color: i === 0 ? 0xffa500 : i === 1 ? 0xff8c00 : i === 2 ? 0xff6b00 : 0xff4500,\n        transparent: true,\n        opacity: (0.4 - i * 0.08),\n        side: THREE.BackSide,\n      })\n      const glow = new THREE.Mesh(glowGeometry, glowMaterial)\n      sunGroup.add(glow)\n    }\n\n    scene.add(sunGroup)\n\n    // Create realistic planets with textures\n    const planetGroups: THREE.Group[] = []\n    const planetMeshes: THREE.Mesh[] = []\n\n    PLANETS.forEach((planet) => {\n      const planetGroup = new THREE.Group()\n\n      // Orbit line with glow\n      const orbitGeometry = new THREE.BufferGeometry()\n      const orbitPoints: number[] = []\n      for (let i = 0; i <= 256; i++) {\n        const angle = (i / 256) * Math.PI * 2\n        orbitPoints.push(Math.cos(angle) * planet.distance, 0, Math.sin(angle) * planet.distance)\n      }\n      orbitGeometry.setAttribute(\"position\", new THREE.BufferAttribute(new Float32Array(orbitPoints), 3))\n\n      // Outer glow orbit\n      const orbitGlowMaterial = new THREE.LineBasicMaterial({\n        color: planet.glowColor,\n        transparent: true,\n        opacity: 0.08,\n        linewidth: 2,\n      })\n      const orbitGlow = new THREE.Line(orbitGeometry, orbitGlowMaterial)\n      scene.add(orbitGlow)\n\n      // Main orbit line\n      const orbitMaterial = new THREE.LineBasicMaterial({\n        color: 0x4a5568,\n        transparent: true,\n        opacity: 0.4,\n        linewidth: 1,\n      })\n      const orbit = new THREE.Line(orbitGeometry, orbitMaterial)\n      scene.add(orbit)\n\n      // Create realistic planet with texture\n      const planetGeometry = new THREE.SphereGeometry(planet.size, 64, 64)\n      \n      // Create planet texture\n      const planetTexture = createPlanetTexture(planet.color, 512, {\n        gradientIntensity: 0.7,\n        patternType: planet.patternType,\n      })\n      \n      // Create normal map for surface detail\n      const normalMap = createPlanetNormalMap(512)\n\n      const planetMaterial = new THREE.MeshStandardMaterial({\n        map: planetTexture,\n        normalMap: normalMap,\n        normalScale: new THREE.Vector2(0.8, 0.8),\n        color: planet.color,\n        emissive: planet.emissive,\n        emissiveIntensity: 0.15,\n        metalness: 0.05,\n        roughness: 0.85,\n        envMapIntensity: 1.0,\n      })\n\n      const planetMesh = new THREE.Mesh(planetGeometry, planetMaterial)\n      planetMesh.castShadow = true\n      planetMesh.receiveShadow = true\n      planetGroup.add(planetMesh)\n\n      // Subtle glow around planet\n      const glowGeometry = new THREE.SphereGeometry(planet.size * 1.15, 32, 32)\n      const glowMaterial = new THREE.MeshBasicMaterial({\n        color: planet.glowColor,\n        transparent: true,\n        opacity: 0.2,\n        side: THREE.BackSide,\n      })\n      const glow = new THREE.Mesh(glowGeometry, glowMaterial)\n      planetGroup.add(glow)\n\n      // Add orbiting particles around planet\n      const particleCount = 6\n      for (let i = 0; i < particleCount; i++) {\n        const particleGeom = new THREE.SphereGeometry(0.12, 12, 12)\n        const particleMat = new THREE.MeshBasicMaterial({\n          color: planet.glowColor,\n          transparent: true,\n          opacity: 0.5,\n          blending: THREE.AdditiveBlending,\n        })\n        const particle = new THREE.Mesh(particleGeom, particleMat)\n        const angle = (i / particleCount) * Math.PI * 2\n        particle.userData = {\n          angle: angle,\n          distance: planet.size * 1.8,\n          speed: 0.04,\n        }\n        planetGroup.add(particle)\n      }\n\n      // Store planet data\n      planetGroup.userData = {\n        angle: Math.random() * Math.PI * 2,\n        ...planet,\n        hovered: false,\n      }\n\n      scene.add(planetGroup)\n      planetGroups.push(planetGroup)\n      planetMeshes.push(planetMesh)\n    })\n\n    // Enhanced lighting for realistic spheres\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6)\n    scene.add(ambientLight)\n\n    const sunLight = new THREE.PointLight(0xfdb813, 4, 300)\n    sunLight.position.copy(sun.position)\n    sunLight.castShadow = true\n    sunLight.shadow.mapSize.width = 2048\n    sunLight.shadow.mapSize.height = 2048\n    scene.add(sunLight)\n\n    // Directional light from sun for better sphere lighting\n    const directionalLight = new THREE.DirectionalLight(0xfdb813, 2)\n    directionalLight.position.set(0, 0, 0)\n    directionalLight.castShadow = true\n    scene.add(directionalLight)\n\n    // Additional accent lights for depth\n    const accentLight1 = new THREE.PointLight(0x00d9ff, 1, 200)\n    accentLight1.position.set(-120, 60, 60)\n    scene.add(accentLight1)\n\n    const accentLight2 = new THREE.PointLight(0xff006e, 0.8, 200)\n    accentLight2.position.set(120, -60, 60)\n    scene.add(accentLight2)\n\n    // Raycaster for interaction\n    const raycaster = new THREE.Raycaster()\n    raycasterRef.current = raycaster\n\n    // Mouse tracking\n    const handleMouseMove = (e: MouseEvent) => {\n      mouseRef.current.x = (e.clientX / width) * 2 - 1\n      mouseRef.current.y = -(e.clientY / height) * 2 + 1\n    }\n\n    const handleClick = (e: MouseEvent) => {\n      const mouse = new THREE.Vector2()\n      mouse.x = (e.clientX / width) * 2 - 1\n      mouse.y = -(e.clientY / height) * 2 + 1\n\n      raycaster.setFromCamera(mouse, camera)\n      const intersects = raycaster.intersectObjects(planetMeshes, true)\n\n      if (intersects.length > 0) {\n        const planetMesh = intersects[0].object\n        const planetGroup = planetMesh.parent as THREE.Group\n        if (planetGroup && planetGroup.userData.name) {\n          console.log(`Clicked on ${planetGroup.userData.name}`)\n        }\n      }\n    }\n\n    window.addEventListener(\"mousemove\", handleMouseMove)\n    window.addEventListener(\"click\", handleClick)\n\n    const handleResize = () => {\n      const newWidth = window.innerWidth\n      const newHeight = window.innerHeight\n      camera.aspect = newWidth / newHeight\n      camera.updateProjectionMatrix()\n      renderer.setSize(newWidth, newHeight)\n    }\n\n    window.addEventListener(\"resize\", handleResize)\n\n    // Animation loop\n    let animationId: number\n    const animate = () => {\n      animationId = requestAnimationFrame(animate)\n\n      const time = Date.now() * 0.001\n\n      // Rotate sun with enhanced effects\n      sunGroup.rotation.y += 0.004\n      sunGroup.children.forEach((child, i) => {\n        if (i > 0) {\n          child.rotation.y += (0.002 - i * 0.0005) * (i % 2 === 0 ? 1 : -1)\n        }\n      })\n\n      // Pulsing sun glow\n      const pulseScale = 1 + Math.sin(time * 1.5) * 0.15\n      if (sunGroup.children[1]) {\n        sunGroup.children[1].scale.set(pulseScale, pulseScale, pulseScale)\n      }\n\n      // Animate planets with realistic rotation\n      planetGroups.forEach((planetGroup) => {\n        const planetData = planetGroup.userData\n\n        // Orbital motion\n        planetData.angle += planetData.speed\n        planetGroup.position.x = Math.cos(planetData.angle) * planetData.distance\n        planetGroup.position.z = Math.sin(planetData.angle) * planetData.distance\n\n        // Realistic rotation (planets rotate on their axis)\n        planetGroup.rotation.y += 0.015\n        planetGroup.rotation.x = Math.sin(planetData.angle * 0.3) * 0.05\n\n        // Subtle y wobble\n        planetGroup.position.y = Math.sin(planetData.angle * 0.5) * 2\n\n        // Subtle scale pulsing\n        const scale = 1 + Math.sin(time * 0.5 + planetData.angle) * 0.05\n        planetGroup.scale.set(scale, scale, scale)\n\n        // Animate orbiting particles\n        planetGroup.children.forEach((child: THREE.Object3D) => {\n          if (child instanceof THREE.Mesh && child.userData.angle !== undefined) {\n            child.userData.angle += child.userData.speed\n            const angle = child.userData.angle\n            const distance = child.userData.distance\n\n            child.position.x = Math.cos(angle) * distance\n            child.position.y = Math.sin(angle * 0.7) * distance\n            child.position.z = Math.sin(angle * 1.2) * distance * 0.5\n\n            child.rotation.x += 0.05\n            child.rotation.y += 0.05\n\n            // Pulsing particles\n            const particlePulse = Math.sin(time * 3 + child.userData.angle) * 0.3 + 0.7\n            child.scale.set(particlePulse, particlePulse, particlePulse)\n          }\n        })\n\n        // Hover effect detection\n        const planetIndex = planetGroups.indexOf(planetGroup)\n        if (planetIndex >= 0 && planetIndex < planetMeshes.length) {\n          raycaster.setFromCamera(new THREE.Vector2(mouseRef.current.x, mouseRef.current.y), camera)\n          const intersects = raycaster.intersectObject(planetMeshes[planetIndex], true)\n\n          const isHovered = intersects.length > 0\n          \n          if (isHovered && !planetData.hovered) {\n            planetData.hovered = true\n            setHoveredPlanet(planetData.name)\n          } else if (!isHovered && planetData.hovered) {\n            planetData.hovered = false\n            setHoveredPlanet((prev) => (prev === planetData.name ? null : prev))\n          }\n\n          // Hover scale effect\n          if (planetData.hovered) {\n            const hoverScale = 1.2\n            planetGroup.scale.lerp(new THREE.Vector3(hoverScale, hoverScale, hoverScale), 0.1)\n          } else {\n            planetGroup.scale.lerp(new THREE.Vector3(1, 1, 1), 0.1)\n          }\n        }\n      })\n\n      // Enhanced camera movement based on mouse\n      camera.position.x += (mouseRef.current.x * 20 - camera.position.x) * 0.03\n      camera.position.y += (mouseRef.current.y * 20 - camera.position.y) * 0.03\n      camera.lookAt(scene.position)\n\n      // Twinkling stars\n      const opacities = starsGeometry.attributes.opacity.array as Float32Array\n      for (let i = 0; i < STAR_COUNT; i++) {\n        opacities[i] = Math.sin(time * 2 + i) * 0.5 + 0.5\n      }\n      starsGeometry.attributes.opacity.needsUpdate = true\n\n      // Rotate stars slowly\n      stars.rotation.y += 0.00003\n\n      renderer.render(scene, camera)\n    }\n\n    animate()\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      window.removeEventListener(\"mousemove\", handleMouseMove)\n      window.removeEventListener(\"click\", handleClick)\n      cancelAnimationFrame(animationId)\n\n      // Cleanup textures\n      sunTexture.dispose()\n      planetMeshes.forEach((mesh) => {\n        if (mesh.material instanceof THREE.MeshStandardMaterial) {\n          if (mesh.material.map) mesh.material.map.dispose()\n          if (mesh.material.normalMap) mesh.material.normalMap.dispose()\n        }\n      })\n\n      // Cleanup geometries and materials\n      scene.traverse((object: THREE.Object3D) => {\n        if (object instanceof THREE.Mesh || object instanceof THREE.Line || object instanceof THREE.Points) {\n          if (object.geometry) object.geometry.dispose()\n          if (object.material) {\n            if (Array.isArray(object.material)) {\n              object.material.forEach((material: THREE.Material) => material.dispose())\n            } else {\n              object.material.dispose()\n            }\n          }\n        }\n      })\n\n      renderer.dispose()\n      if (container.contains(renderer.domElement)) {\n        container.removeChild(renderer.domElement)\n      }\n    }\n  }, [hoveredPlanet])\n\n  return (\n    <>\n      <div ref={containerRef} className=\"fixed inset-0 -z-20\" />\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4492, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jbabr/Downloads/math-games-for-kids%20%281%29/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport GameMenu from \"@/components/game-menu\"\nimport NextNumberGame from \"@/components/games/next-number-game\"\nimport MissingNumberGame from \"@/components/games/missing-number-game\"\nimport SortSequenceGame from \"@/components/games/sort-sequence-game\"\nimport SolarSystemBackground from \"@/components/solar-system-background\"\nimport { GAME_TYPES } from \"@/lib/constants\"\nimport type { GameType } from \"@/lib/constants\"\n\nexport default function Home() {\n  const [currentGame, setCurrentGame] = useState<GameType>(GAME_TYPES.MENU)\n\n  const handleBackToMenu = () => {\n    setCurrentGame(GAME_TYPES.MENU)\n  }\n\n  const handleSelectGame = (game: Exclude<GameType, \"menu\">) => {\n    setCurrentGame(game)\n  }\n\n  const renderContent = () => {\n    switch (currentGame) {\n      case GAME_TYPES.NEXT:\n        return <NextNumberGame onBack={handleBackToMenu} />\n      case GAME_TYPES.MISSING:\n        return <MissingNumberGame onBack={handleBackToMenu} />\n      case GAME_TYPES.SORT:\n        return <SortSequenceGame onBack={handleBackToMenu} />\n      case GAME_TYPES.MENU:\n      default:\n        return <GameMenu onSelectGame={handleSelectGame} />\n    }\n  }\n\n  return (\n    <>\n      <SolarSystemBackground />\n      <div className=\"relative z-10 w-full h-screen overflow-hidden\">\n        {renderContent()}\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAWe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAW,iIAAU,CAAC,IAAI;IAExE,MAAM,mBAAmB;QACvB,eAAe,iIAAU,CAAC,IAAI;IAChC;IAEA,MAAM,mBAAmB,CAAC;QACxB,eAAe;IACjB;IAEA,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK,iIAAU,CAAC,IAAI;gBAClB,qBAAO,6LAAC,4JAAc;oBAAC,QAAQ;;;;;;YACjC,KAAK,iIAAU,CAAC,OAAO;gBACrB,qBAAO,6LAAC,+JAAiB;oBAAC,QAAQ;;;;;;YACpC,KAAK,iIAAU,CAAC,IAAI;gBAClB,qBAAO,6LAAC,8JAAgB;oBAAC,QAAQ;;;;;;YACnC,KAAK,iIAAU,CAAC,IAAI;YACpB;gBACE,qBAAO,6LAAC,yIAAQ;oBAAC,cAAc;;;;;;QACnC;IACF;IAEA,qBACE;;0BACE,6LAAC,0JAAqB;;;;;0BACtB,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;AAIT;GAjCwB;KAAA"}}]
}